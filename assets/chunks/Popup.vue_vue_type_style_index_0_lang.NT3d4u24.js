import{d as b,l as r,o as i,c as o,m,p as s,g as I,J as S,h as a,n as P,aa as d,F as j,E as w,M as y,a2 as A,I as B,a6 as N}from"./framework.Ae0H8jK5.js";import{I as M}from"./16.BvV6YgcX.js";import{v as l}from"./index.DaIlsiXv.js";import{u as O}from"./index.B0MPAoIO.js";import{P as $}from"./index.M_YxWgMV.js";const E={class:"popup__body"},F={key:0,class:"popup__title"},V={key:1,class:"popup__text","data-testid":"popup-text"},D={key:2,class:"popup__actions"},z=["onClick"],Q=b({__name:"Popup",props:{title:{type:String,default:""},text:{type:String,default:""},type:{type:String,default:"info"},variant:{type:String,default:"simple"},icon:{type:[String,Object,Function],default:void 0},iconColor:{type:String,default:void 0},popupAttrs:{type:Object,default:void 0},popupClass:{type:[String,Array,Object],default:void 0},actions:{type:Array,default:()=>[]},dismissable:{type:Boolean,default:!0}},emits:["dismissed"],setup(e,{emit:v}){const t=e,h=O(),g=v,k=r(()=>{const n=["popup"];return t.type&&n.push(`popup--${t.type}`),t.variant&&n.push(`popup--${t.variant}`),n}),C=r(()=>{const n=["default"];return t.iconColor&&n.push(`popup__icon--${t.iconColor}`),n}),f=r(()=>t.icon?typeof t.icon=="string"?()=>N("img",{src:t.icon,width:20,height:20,"data-testid":"popup-icon-image"}):t.icon:$[t.type]);function p(){h.close(),g("dismissed")}async function _(n){const c=new MouseEvent("click");typeof n.onClick=="function"&&await n.onClick(Object.assign(c,{close:p})),c.defaultPrevented||p()}return(n,c)=>(i(),o("div",y({"data-testid":"popup",class:[s(k),e.popupClass]},e.popupAttrs),[m("div",{class:P(["popup__icon",s(C)]),"data-testid":"popup-icon"},[s(f)?(i(),I(S(s(f)),{key:0})):a("",!0)],2),m("div",E,[e.title?d((i(),o("div",F,null,512)),[[s(l),e.title,void 0,{inline:!0}]]):a("",!0),e.text?d((i(),o("div",V,null,512)),[[s(l),e.text,void 0,{inline:!0}]]):a("",!0),e.actions.length>0?(i(),o("div",D,[(i(!0),o(j,null,w(e.actions,(u,x)=>d((i(),o("a",y({key:x,"data-testid":"popup-action",href:"javascript:void",class:"popup__action",ref_for:!0},u.attrs,{onClick:A(J=>_(u),["prevent"])}),null,16,z)),[[s(l),u.text,void 0,{inline:!0}]])),128))])):a("",!0)]),e.dismissable?(i(),o("div",{key:0,"data-testid":"popup-close",class:"popup__close",onClick:p},[B(M)])):a("",!0)],16))}});export{Q as _};
