import{a as R,b as j,c as x}from"./index.DxPNM-bs.js";import{_ as I}from"./Checkbox.vue_vue_type_script_setup_true_lang.BPJRo19D.js";/* empty css                                                 */import{d as A,c as r,j as b,r as h,n as m,K as L,o as s,G as f,p as z,h as _,q,b as C,w as N,k as n,e as y,al as B,F as D,C as T,N as E,a as U,t as $}from"./framework.CI6Dj8yt.js";import{u as G}from"./index.CM3hlGhp.js";import{D as M,I as P}from"./vuedraggable.umd.TGMEJYmD.js";import{I as H}from"./16.W6c0TrQl.js";import{I as J}from"./16.DMn2jJj5.js";const Q=A({inheritAttrs:!1,__name:"TableStaticRoot",props:{scrollable:{type:Boolean,default:!0},tableClass:{type:[String,Array,Object],default:void 0}},setup(a){return(i,l)=>a.scrollable?(s(),r("div",L({key:0,class:"table-static"},i.$attrs),[b("table",{class:m(["table-static__table",a.tableClass])},[h(i.$slots,"default")],2)],16)):(s(),r("table",L({key:1,class:["table-static__table",a.tableClass]},i.$attrs),[h(i.$slots,"default")],16))}}),W=["active"],X=A({__name:"TableStaticSort",props:{active:{type:String,default:void 0}},setup(a){return(i,l)=>(s(),r("div",{active:a.active,class:"table-static__header-sort","data-testid":"table-static-header-sort"},[f(H,{class:"table-static__header-sort-up"}),f(J,{class:"table-static__header-sort-down"})],8,W))}}),Y={key:0,class:"table-static__headers"},Z={key:0,class:"table-static__header table-static__drag"},tt={key:1,class:"table-static__header table-static__checkbox"},et=["data-header","onClick"],at={class:"table-static__header-label"},lt={key:0,class:"table-static__cell table-static__drag","data-testid":"table-static-drag-handle"},st={key:1,class:"table-static__cell table-static__checkbox"},rt=["data-cell"],ct={key:2,class:"table-static__body"},ot={class:"table-static__row"},nt=["colspan"],it={class:"flex items-center justify-center text-subtle dark:text-dark-subtle"},gt=A({__name:"TableStatic",props:{apperance:{type:String,default:"table"},modelValue:{type:Array,default:()=>[]},fields:{type:Array,default:()=>[]},items:{type:Array,default:()=>[]},selectable:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},emptyLabel:{type:String,default:"There are no records to show"},noLabel:{type:Boolean,default:!1},tableClass:{type:[String,Array,Object],default:void 0},trClass:{type:[String,Array,Object],default:void 0},scrollable:{type:Boolean,default:!0},sortable:{type:[Boolean,String],default:!1},sortBy:{type:Object,default:()=>({})}},emits:["update:modelValue","update:items","update:sortBy","sort"],setup(a,{emit:i}){const l=a,d=G(l),g=z(l.sortBy),k=i,v=_({get(){return l.items.map(t=>x(t))},set(t){k("update:items",t)}}),F=_(()=>{const t=["table-static"];return l.apperance&&t.push(`table-static--${l.apperance}`),l.selectable&&t.push("table-static--selectable"),l.draggable&&t.push("table-static--draggable"),l.noLabel&&t.push("table-static--no-label"),l.scrollable&&t.push("table-static--scrollable"),t}),w=_(()=>l.items.filter(t=>t._selectable!==!1)),p=_({get(){return l.items.length===0?!1:d.value.length===w.value.length},set(t){p.value!==t&&(d.value=t?w.value.map(c=>j(c)):[])}}),O=_(()=>d.value.length>0&&d.value.length<w.value.length);q(()=>l.sortBy,t=>{g.value=t});function S(t){return l.sortable&&t.sortable!==!1}function V(t){return g.value[t.key]}function K(t){if(S(t)){const c=V(t),e=c==="asc"?"desc":c==="desc"?void 0:"asc",u=l.sortable==="multiple"?{...g.value,[t.key]:e}:{[t.key]:e};g.value=u,k("update:sortBy",u),k("sort",u)}}return(t,c)=>(s(),C(Q,{"data-testid":"table-static",scrollable:a.scrollable,class:m(n(F)),"table-class":a.tableClass},{default:N(()=>[a.noLabel?y("",!0):(s(),r("thead",Y,[b("tr",{class:m(a.trClass)},[a.draggable?(s(),r("th",Z)):y("",!0),a.selectable?(s(),r("th",tt,[f(I,{modelValue:n(p),"onUpdate:modelValue":c[0]||(c[0]=e=>B(p)?p.value=e:null),"data-testid":"table-static-select-all",indeterminate:n(O)},null,8,["modelValue","indeterminate"])])):y("",!0),(s(!0),r(D,null,T(a.fields,e=>(s(),r("th",{key:e.key,class:m(["table-static__header",[e.thClass,{"table-static__header--sortable":S(e)}]]),"data-testid":"table-static-header",style:E(e.width?{width:n(R)(e.width)}:{}),"data-header":e.key,onClick:u=>K(e)},[h(t.$slots,`head(${e.key})`,{label:e.label,field:e,sort:V(e)},()=>[b("span",at,[U($(e.label)+" ",1),S(e)?(s(),C(X,{key:0,active:V(e)},null,8,["active"])):y("",!0)])])],14,et))),128))],2)])),Array.isArray(a.items)&&a.items.length>0?(s(),C(n(M),{key:1,modelValue:n(v),"onUpdate:modelValue":c[2]||(c[2]=e=>B(v)?v.value=e:null),class:"table-static__body",handle:".table-static__drag","item-key":"_key",tag:"tbody",disabled:!a.draggable},{item:N(({element:e,index:u})=>[b("tr",{class:m(["table-static__row",a.trClass]),"data-role":"row"},[h(t.$slots,"row",{item:e,index:u},()=>[a.draggable?(s(),r("td",lt,[f(P)])):y("",!0),a.selectable?(s(),r("td",st,[f(I,{modelValue:n(d),"onUpdate:modelValue":c[1]||(c[1]=o=>B(d)?d.value=o:null),"data-testid":"table-static-select",value:n(j)(e),disabled:e._selectable===!1},null,8,["modelValue","value","disabled"])])):y("",!0),(s(!0),r(D,null,T(a.fields,o=>(s(),r("td",{key:o.key,class:m(["table-static__cell",o.tdClass]),"data-testid":"table-static-cell","data-cell":o.key},[h(t.$slots,`cell(${o.key})`,{index:u,item:e},()=>[U($(o.formatter(e[o.key],e)),1)])],10,rt))),128))])],2)]),_:3},8,["modelValue","disabled"])):(s(),r("tbody",ct,[b("tr",ot,[b("td",{colspan:a.selectable?a.fields.length+1:a.fields.length,"data-testid":"table-static-empty",class:"table-static__cell table-static__cell--empty datatable__state-empty"},[h(t.$slots,"empty",{},()=>[b("span",it,$(a.emptyLabel),1)])],8,nt)])]))]),_:3},8,["scrollable","class","table-class"]))}});export{gt as _};
