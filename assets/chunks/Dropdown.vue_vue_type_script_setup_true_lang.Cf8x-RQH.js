import{_ as M,o as l,c as k,j as g,d as P,a1 as j,L as G,p as b,h as C,D as J,q as F,X as I,b as h,w as $,k as s,a0 as A,r as w,G as O,e as S,a as L,t as K,H as Q,T as U,a6 as Y,s as Z,n as V,N as ee,an as te,ao as ne}from"./framework.CI6Dj8yt.js";import{c as oe,e as ae,o as z}from"./index.CcwQOeXo.js";import{_ as se}from"./Button.vue_vue_type_script_setup_true_lang.DOHgQt4I.js";/* empty css                                               */import{_ as R,D as le}from"./Dropdown.vue_vue_type_style_index_0_lang.DNpByd8n.js";import{u as de}from"./use-focus.3sjawyk-.js";import{a as ie,c as re,f as ue,s as ce,o as fe,h as pe}from"./floating-ui.dom.D8eMPWlJ.js";import{u as me}from"./index.CM3hlGhp.js";import{I as ve}from"./20.4Lp1Y2VN.js";const we={},_e={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",class:"persona-icon",viewBox:"0 0 16 16"};function ye(t,u){return l(),k("svg",_e,u[0]||(u[0]=[g("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6.347 3.746a.5.5 0 0 1 .707 0l3.9 3.9a.5.5 0 0 1 0 .707l-3.9 3.9a.5.5 0 0 1-.707-.707L9.893 8 6.347 4.453a.5.5 0 0 1 0-.707","clip-rule":"evenodd"},null,-1)]))}const be=M(we,[["render",ye]]),he={},ke={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",class:"persona-icon",viewBox:"0 0 16 16"};function $e(t,u){return l(),k("svg",ke,u[0]||(u[0]=[g("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.703 12.904a.5.5 0 0 1-.707 0l-4.55-4.55a.5.5 0 0 1 0-.707l4.55-4.55a.5.5 0 1 1 .707.707L4.007 7.5H13.2a.5.5 0 0 1 0 1H4.007l3.696 3.696a.5.5 0 0 1 0 .707","clip-rule":"evenodd"},null,-1)]))}const ge=M(he,[["render",$e]]),H=Symbol("DropdownTree"),Ce={class:"dropdown__subitem__content"},Se=P({__name:"DropdownSubitem",props:{text:{type:String,default:""},noCaret:{type:Boolean,default:!1}},emits:["click"],setup(t,{expose:u,emit:r}){var D;const _=j(),c=r,o=G(H,void 0,!0),y=b("slide-left"),p=C(()=>o===void 0),a=(D=o==null?void 0:o.tree)!=null?D:J({_level:0,slots:_}),n=()=>{a.value={_level:a.value._level+1,prev:a.value,slots:_}},m=()=>{a.value.prev&&(a.value=a.value.prev)},B=C(()=>a.value.slots.default),x=C(()=>!!(p.value&&a.value.prev));F(a,(d,i)=>{y.value=d._level>i._level?"slide-left":"slide-right"}),p.value&&I(H,{tree:a,next:n,back:m});function N(){p.value&&(a.value={prev:void 0,_level:0,slots:_})}function E(){const d=new MouseEvent("click");c("click",d),d.defaultPrevented||n()}return u({reset:N,next:n,back:m}),(d,i)=>(l(),h(U,{name:s(y),mode:"out-in"},{default:$(()=>[(l(),k("div",{key:s(a)._level,"data-testid":"dropdown-subitem",class:"dropdown__subitem"},[s(x)?(l(),h(R,{key:"btn-back","data-testid":"dropdown-back",class:"dropdown__subitem__btn dropdown__subitem__btn--back",onClick:i[0]||(i[0]=A(v=>m(),["prevent"]))},{default:$(()=>[w(d.$slots,"button-back",{},()=>[O(ge,{class:"dropdown__subitem__next"}),i[1]||(i[1]=g("div",{class:"dropdown__group-content"},null,-1))])]),_:3})):S("",!0),s(p)?(l(),h(Q(s(B)),{key:2})):(l(),h(R,{key:"btn-next",class:"dropdown__subitem__btn",onClick:A(E,["prevent"])},{default:$(()=>[g("div",Ce,[w(d.$slots,"button-content",{next:n,back:m},()=>[L(K(t.text),1)])]),t.noCaret?S("",!0):(l(),h(be,{key:0,"data-testid":"dropdown-subitem-next",class:"dropdown__subitem__next"}))]),_:3}))]))]),_:3},8,["name"]))}}),Be={key:0,class:"drowdown__menu__prepend"},xe={key:1,class:"drowdown__menu__append"},He=P({models:{prop:"modelValue",event:"update:modelValue"},__name:"Dropdown",props:{modelValue:{type:Boolean,default:!1},text:{type:String,default:""},placement:{type:String,default:"bottom-start"},variant:{type:String,default:"solid"},color:{type:String,default:"default"},size:{type:String,default:"md"},icon:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},noCaret:{type:Boolean,default:!1},divider:{type:Boolean,default:!1},menuClass:{type:[String,Array,Object],default:void 0},buttonClass:{type:[String,Array,Object],default:void 0},menuSize:{type:String,default:"sm"},noAnimation:{type:Boolean,default:!1}},emits:["show","hide","update:modelValue"],setup(t,{expose:u}){const r=t,_=j(),c=b(),o=b(),y=b(),p=b(),a=Y(r,"placement"),n=me(r),m=b(!1),{next:B,prev:x}=de(y),{width:N}=oe(c),E=C(()=>{const e=[""];return r.divider&&e.push("dropdown--divider"),r.menuSize&&e.push(`dropdown--menu-${r.menuSize}`),e}),D=C(()=>{const e=[""];return _.prepend&&e.push("dropdown__menu--has-prepend"),_.append&&e.push("dropdown__menu--has-append"),e});function d(){r.disabled||(n.value?v():i())}function i(){r.disabled||(n.value=!0)}function v(){r.disabled||(n.value=!1)}return ae(o,()=>{n.value&&setTimeout(()=>{v()})},{ignore:[c]}),z("Escape",e=>{const f=e.target;n.value&&(v(),typeof f.blur=="function"&&f.blur())}),z(["ArrowUp"],e=>{n.value&&(e.preventDefault(),x())}),z(["ArrowDown"],e=>{n.value&&(e.preventDefault(),B())}),z(["Tab"],e=>{n.value&&(e.preventDefault(),e.shiftKey?x():B())}),Z(e=>{if(c.value&&o.value){const f=ie(c.value,o.value,()=>{re(c.value,o.value,{strategy:"absolute",placement:a.value,middleware:[ue(),ce(),fe(8),pe()]}).then(({x:T,y:W,placement:X,middlewareData:q})=>{o.value&&(o.value.dataset.popperPlacement=X,o.value.style.left=`${T||0}px`,o.value.style.top=`${W||0}px`,m.value=q.hide.referenceHidden)})},{animationFrame:!0});e(f)}},{flush:"post"}),F(n,e=>{!e&&p.value&&p.value.reset()},{immediate:!0}),I(le,{isOpen:n,toggle:d,open:i,close:v}),u({menuBody:y,menu:o,root:c,open:i,close:v}),(e,f)=>(l(),k("div",{ref_key:"root",ref:c,class:V(["dropdown",[{"dropdown--open":s(n),"dropdown--no-caret":t.noCaret},s(E)]]),style:ee({"--p-dropdown-root-width":`${s(N)}px`}),"data-testid":"dropdown"},[w(e.$slots,"activator",{toggle:d,open:i,close:v,isOpen:s(n)},()=>[O(se,{"data-testid":"dropdown-activator",class:V(["dropdown__activator",t.buttonClass]),variant:t.variant,color:t.color,size:t.size,icon:t.icon,pill:t.pill,disabled:t.disabled,onClick:A(d,["prevent"])},{default:$(()=>[w(e.$slots,"button-content",{},()=>[L(K(t.text),1)]),t.noCaret?S("",!0):(l(),h(ve,{key:0,class:"dropdown__caret","data-testid":"dropdown-caret"}))]),_:3},8,["class","variant","color","size","icon","pill","disabled"])]),O(U,{name:"fade",css:!t.noAnimation,onAfterEnter:f[0]||(f[0]=T=>e.$emit("show")),onAfterLeave:f[1]||(f[1]=T=>e.$emit("hide"))},{default:$(()=>[te(g("div",{ref_key:"menu",ref:o,"data-testid":"dropdown-menu",class:V(["dropdown__menu",[t.menuClass,s(D)]])},[e.$slots.prepend?(l(),k("div",Be,[w(e.$slots,"prepend")])):S("",!0),g("div",{ref_key:"menuBody",ref:y,class:"dropdown__menu__body"},[O(Se,{ref_key:"wizard",ref:p,class:"dropdown__menu__container"},{default:$(()=>[w(e.$slots,"default")]),_:3},512)],512),e.$slots.append?(l(),k("div",xe,[w(e.$slots,"append")])):S("",!0)],2),[[ne,s(n)&&!s(m)]])]),_:3},8,["css"])],6))}});export{He as _,Se as a};
