import{_ as N}from"./Button.vue_vue_type_script_setup_true_lang.snQyFrYw.js";import"./Button.vue_vue_type_style_index_0_lang.w40geAFS.js";import{_ as I}from"./Select.vue_vue_type_style_index_0_lang.8Pjt5bR-.js";import{I as j}from"./20.-euDpP-D.js";import{I as G}from"./20.Re7Vz6jC.js";import{u as F}from"./index.o_V-6OuU.js";import{ab as V,l as p,d as J,z as U,c as y,b as m,t as g,K as O,q as i,a8 as q,a as k,f as b,w,g as h,G as C,H,n as K,o as s}from"./framework.ia1RVXQM.js";const R="...",B=5;function S(e,t){const v=t-e+1;return Array.from({length:v},(l,u)=>u+e)}function Q(e){const t=Math.floor((e-B)/2),l=2*t+B-2;return{totalSiblings:t,totalPageDisplay:l}}function W(e,t,v){const{totalSiblings:l,totalPageDisplay:u}=Q(v),r=Math.max(e-l,1),n=Math.min(e+l,t),P=r>2,f=n<=t-2;if(P&&!f){const o=S(t-u+1,t);return[1,R,...o]}if(!P&&f)return[...S(1,u),R,t];if(P&&f){const o=S(r,n);return[1,R,...o,R,t]}}function X(e){const t=V(e,"modelValue"),v=V(e,"perPage"),l=V(e,"total"),u=V(e,"displayLimit"),r=p(()=>l.value<=0?0:Math.ceil(l.value/v.value)),n=p(()=>{const L=Math.max((t.value-1)*v.value+1,0),x=Math.min(t.value*v.value,l.value);return[L,x]}),P=p(()=>r.value===0||u.value<B?[]:r.value===1?[1]:u.value>=r.value?S(1,r.value):W(t.value,r.value,u.value)),f=p(()=>t.value!==r.value),o=p(()=>t.value!==1);return{pageItems:P,rowRange:n,totalPageCount:r,canNext:f,canPrev:o}}const Y={key:0,class:"pagination__quickjump","data-testid":"pagination-quickjump"},Z={key:1,class:"pagination__items"},_={key:2,class:"pagination__count","data-testid":"pagination-count"},ee={key:3,class:"pagination__options","data-testid":"pagination-option"},re=J({__name:"Pagination",props:{modelValue:{type:Number,default:1},quickJump:{type:Boolean,default:!1},showCounter:{type:Boolean,default:!1},showPerPage:{type:Boolean,default:!1},showDetail:{type:Boolean,default:!1},navigationText:{type:Boolean,default:!1},navigationOnly:{type:Boolean,default:!1},variant:{type:String,default:"short"},perPage:{type:Number,default:10},perPageOptions:{type:Array,default:()=>[10,20,30]},total:{type:Number,default:0},displayLimit:{type:Number,default:10},pageLabel:{type:String,default:"Page"},prevNavLabel:{type:String,default:"Previous"},nextNavLabel:{type:String,default:"Next"},firstNavLabel:{type:String,default:"First"},lastNavLabel:{type:String,default:"Last"},showRowsLabel:{type:String,default:"Show rows"},selectSize:{type:String,default:"md"}},emits:["update:modelValue","update:perPage","change"],setup(e,{expose:t,emit:v}){const l=e,u=v,r=p(()=>{const a=["pagination"];return l.navigationOnly&&a.push("pagination--navonly"),a}),n=F(l),{pageItems:P,rowRange:f,totalPageCount:o,canNext:L,canPrev:x}=X(l),T=p(()=>S(1,o.value).map(a=>({text:String(a),value:a}))),A=p(()=>l.perPageOptions.map(a=>({text:String(a),value:a}))),$=p({get(){return l.perPage},set(a){u("update:perPage",a)}});U(o,a=>{n.value>a&&(n.value=a||1)});function D(){n.value=Math.min(n.value+1,o.value),u("change",n.value)}function M(){n.value=Math.max(n.value-1,1),u("change",n.value)}function z(a){typeof a!="string"&&n.value!==a&&(n.value=a,u("change",a))}return t({next:D,prev:M}),(a,c)=>(s(),y("div",{"data-testid":"pagination",class:K(i(r))},[e.quickJump?(s(),y("div",Y,[m(g(e.pageLabel)+" ",1),O(I,{modelValue:i(n),"onUpdate:modelValue":c[0]||(c[0]=d=>q(n)?n.value=d:null),searchable:!1,size:e.selectSize,"data-testid":"pagination-select",options:i(T),onChange:c[1]||(c[1]=({value:d})=>z(d))},null,8,["modelValue","size","options"]),k(a.$slots,"quick-jump-count",{total:i(o)},()=>[m(" of "+g(i(o)),1)])])):(s(),y("nav",Z,[e.variant==="far"?(s(),b(N,{key:0,"data-testid":"pagination-nav-first",variant:"solid",size:"sm",disabled:!i(x),class:"pagination__items__nav-first",icon:"",onClick:c[2]||(c[2]=d=>z(1))},{default:w(()=>[k(a.$slots,"first-navigation",{},()=>[m(g(e.firstNavLabel),1)])]),_:3},8,["disabled"])):h("",!0),e.variant==="short"||e.variant==="far"?(s(),b(N,{key:1,"data-testid":"pagination-nav-prev",variant:"solid",size:"sm",disabled:!i(x),class:"pagination__items__nav-prev",icon:"",onClick:M},{default:w(()=>[k(a.$slots,"prev-navigation",{},()=>[e.navigationText?(s(),y(C,{key:0},[m(g(e.prevNavLabel),1)],64)):(s(),b(j,{key:1}))])]),_:3},8,["disabled"])):h("",!0),e.navigationOnly?h("",!0):(s(!0),y(C,{key:2},H(i(P),(d,E)=>(s(),b(N,{key:E,"data-testid":"pagination-item",variant:"solid",size:"sm",icon:"",readonly:typeof d=="string",active:d===i(n),onClick:ae=>z(d)},{default:w(()=>[m(g(d),1)]),_:2},1032,["readonly","active","onClick"]))),128)),e.variant==="short"||e.variant==="far"?(s(),b(N,{key:3,"data-testid":"pagination-nav-next",variant:"solid",size:"sm",disabled:!i(L),class:"pagination__items__nav-next",icon:"",onClick:D},{default:w(()=>[k(a.$slots,"next-navigation",{},()=>[e.navigationText?(s(),y(C,{key:0},[m(g(e.nextNavLabel),1)],64)):(s(),b(G,{key:1}))])]),_:3},8,["disabled"])):h("",!0),e.variant==="far"?(s(),b(N,{key:4,"data-testid":"pagination-nav-last",variant:"solid",size:"sm",disabled:!i(L),class:"pagination__items__nav-last",icon:"",onClick:c[3]||(c[3]=d=>z(i(o)))},{default:w(()=>[k(a.$slots,"last-navigation",{},()=>[m(g(e.lastNavLabel),1)])]),_:3},8,["disabled"])):h("",!0)])),e.showCounter||e.showDetail?(s(),y("div",_,[k(a.$slots,"pagination-count",{page:e.modelValue,perPage:e.perPage,range:i(f),totalPage:i(o),total:e.total},()=>[m(g(i(f)[0])+" - "+g(i(f)[1])+" of "+g(e.total),1)])])):h("",!0),e.showPerPage||e.showDetail?(s(),y("div",ee,[m(g(e.showRowsLabel)+" ",1),O(I,{modelValue:i($),"onUpdate:modelValue":c[4]||(c[4]=d=>q($)?$.value=d:null),searchable:!1,size:e.selectSize,options:i(A)},null,8,["modelValue","size","options"])])):h("",!0)],2))}});export{re as _};
