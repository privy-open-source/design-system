import{u as m}from"./index.uAbLSuRm.js";import{t as h}from"./index.vDTeR44h.js";import{c}from"./accept._rvVzN4h.js";import{d as y,g as i,y as g,j as v,_ as w,o as s,c as n,a5 as x,ab as B,k as b,M as V,a as k,t as p,e as f,n as N}from"./framework.5W3OCrpp.js";const I=y({inheritAttrs:!1,props:{modelValue:{type:String,default:void 0},placeholder:{type:String,default:""},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},autoGrow:{type:Boolean,default:!1},resize:{type:Boolean,default:!1},showCounter:{type:Boolean,default:!1},rows:{type:[Number,String],default:3},maxlength:{type:[Number,String],default:void 0},accept:{type:String,default:void 0}},models:{prop:"modelValue",event:"update:modelValue"},emits:["input","update:modelValue"],setup(e){const a=h("textarea"),r=m(e),d=i(()=>{const t=["textarea"];return e.resize&&t.push("textarea--resize"),e.disabled&&t.push("textarea--disabled"),e.autoGrow&&t.push("textarea--autogrow"),e.readonly&&t.push("textarea--readonly"),e.error&&t.push("textarea--error","state--error"),t}),u=i(()=>r.value?r.value.length:"0");g(()=>e.autoGrow,t=>{t?l():a.value.style.removeProperty("height")},{flush:"post"}),v(()=>{e.autoGrow&&a.value&&l()});function l(){a.value.style.height="auto",a.value.style.height=`${a.value.scrollHeight}px`}function o(){e.autoGrow&&l()}return{model:r,classNames:d,handleInput:o,checkOnInput:c,charactersLength:u,calculateRowHeight:l}}}),S=["placeholder","disabled","readonly","rows","maxlength","aria-valuemax"],$={key:0,"data-testid":"calendar-counter",class:"textarea__counter"},C={key:0};function G(e,a,r,d,u,l){return s(),n("div",{"data-testid":"textarea",class:N(e.classNames)},[x(b("textarea",V({ref:"textarea","onUpdate:modelValue":a[0]||(a[0]=o=>e.model=o),"data-testid":"textarea-input",class:"textarea__input"},e.$attrs,{placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,rows:e.rows,maxlength:e.maxlength,"aria-valuemax":e.maxlength,onBeforeinput:a[1]||(a[1]=o=>e.checkOnInput(e.accept,o)),onInput:a[2]||(a[2]=(...o)=>e.handleInput&&e.handleInput(...o))}),null,16,S),[[B,e.model]]),e.showCounter?(s(),n("div",$,[k(p(e.charactersLength),1),e.maxlength?(s(),n("span",C,"/"+p(e.maxlength),1)):f("",!0)])):f("",!0)],2)}const H=w(I,[["render",G]]);export{H as p};
