import{d as x,o as i,c as d,G as h,e as m,j as r,b as p,w as u,an as w,k as v,t as c,F as P,a as b,n as T,a6 as V,p as L,s as $,K as B,D as _,h as R,$ as j,aM as E}from"./framework.CI6Dj8yt.js";import{_ as G}from"./Subheading.vue_vue_type_style_index_0_lang.ByNcV1Hu.js";import{_ as H}from"./Caption.vue_vue_type_script_setup_true_lang.Th4M_igz.js";/* empty css                                                */import{_ as k}from"./Button.vue_vue_type_script_setup_true_lang.DOHgQt4I.js";/* empty css                                               */import{v as C}from"./index.DaIlsiXv.js";import{I}from"./16.D7uNs2_7.js";import{a as N,c as M,b as U,s as A,i as K,h as O,o as q}from"./floating-ui.dom.D8eMPWlJ.js";import"./index.DvWHfs5K.js";import"./SpinnerRinggo.vue_vue_type_script_setup_true_lang.CAbNIu6d.js";import"./purify.es.B6CWwVBg.js";import"./defu.BhsQtd2f.js";const J=["src"],Q={class:"tour__body"},W={"data-testid":"tour-title"},X={"data-testid":"tour-text"},Y={class:"tour__footer"},Z={key:0,class:"tour__meta","data-testid":"tour-meta"},tt={class:"tour__controls"},et=x({__name:"TourDialog",props:{title:{type:String,default:void 0},text:{type:String,default:""},image:{type:String,default:void 0},highlight:{type:Boolean,default:!0},step:{type:Number,default:0},totalStep:{type:Number,default:0},dismissable:{type:Boolean,default:!0},prevLabel:{type:String,default:"Previous"},nextLabel:{type:String,default:"Next"},dismissLabel:{type:String,default:"Dismiss"},finishLabel:{type:String,default:"Finish"}},emits:["prev","next","dismiss"],setup(t){return(n,e)=>(i(),d("div",{class:T(["tour__dialog",{"tour--image":!!t.image}]),"data-testid":"tour-dialog"},[t.dismissable?(i(),d("span",{key:0,"data-testid":"tour-dismiss",class:"tour__dismiss",onClick:e[0]||(e[0]=a=>n.$emit("dismiss",a))},[h(I)])):m("",!0),t.image?(i(),d("img",{key:1,class:"tour__image","data-testid":"tour-image",src:t.image,alt:"tour-image",width:"320",height:"195"},null,8,J)):m("",!0),r("div",Q,[t.title?(i(),p(G,{key:0,class:"tour__title",size:"sm"},{default:u(()=>[w(r("span",W,null,512),[[v(C),t.title,void 0,{inline:!0}]])]),_:1})):m("",!0),h(H,null,{default:u(()=>[w(r("span",X,null,512),[[v(C),t.text,void 0,{inline:!0}]])]),_:1})]),r("div",Y,[t.totalStep>2?(i(),d("div",Z,c(t.step)+" / "+c(t.totalStep),1)):m("",!0),r("div",tt,[t.dismissable&&t.step<t.totalStep?(i(),d(P,{key:0},[h(k,{"data-testid":"tour-control-dismiss",size:"xs",variant:"link",onClick:e[1]||(e[1]=a=>n.$emit("dismiss",a))},{default:u(()=>[b(c(t.dismissLabel),1)]),_:1}),e[5]||(e[5]=r("span",{class:"tour__divider"},"â€¢",-1))],64)):m("",!0),h(k,{"data-testid":"tour-control-prev",size:"xs",variant:"link",disabled:t.step<2,onClick:e[2]||(e[2]=a=>n.$emit("prev",a))},{default:u(()=>[b(c(t.prevLabel),1)]),_:1},8,["disabled"]),t.step===t.totalStep?(i(),p(k,{key:1,"data-testid":"tour-control-finish",size:"xs",variant:"solid",color:"info",onClick:e[3]||(e[3]=a=>n.$emit("next",a))},{default:u(()=>[b(c(t.finishLabel),1)]),_:1})):(i(),p(k,{key:2,"data-testid":"tour-control-next",size:"xs",variant:"solid",color:"info",onClick:e[4]||(e[4]=a=>n.$emit("next",a))},{default:u(()=>[b(c(t.nextLabel),1)]),_:1}))])])],2))}}),at={class:"tour__backdrop"},it=x({inheritAttrs:!1,__name:"TourHighlight",props:{target:{type:Object,default:void 0}},setup(t){const e=V(t,"target"),a=L();return $(o=>{if(a.value&&e.value){const g=N(e.value,a.value,()=>{const s=e.value.getBoundingClientRect(),f=16;a.value.style.width=`${s.width+f}px`,a.value.style.height=`${s.height+f}px`,a.value.style.left=`${s.left-f/2}px`,a.value.style.top=`${s.top-f/2}px`},{animationFrame:!0});o(g)}}),(o,g)=>(i(),d("div",at,[r("div",B({ref_key:"highlight",ref:a,class:"tour__highlight"},o.$attrs),null,16)]))}}),st={class:"tour"},yt=x({__name:"Tour",setup(t,{expose:n}){const e=L(!1),a=_(),o=_(),g=_(),s=R(()=>{var l;return(l=a.value)==null?void 0:l.$el});$(l=>{if(o.value&&s.value){const y=N(o.value,s.value,async()=>{M(o.value,s.value,{strategy:"absolute",middleware:[U({altBoundary:!0}),A({padding:16}),K(),O(),q(16)]}).then(({x:z,y:D,middlewareData:F})=>{s.value&&(s.value.style.transform=`translate3d(${z||0}px, ${D||0}px, 0)`,s.value.style.visibility=F.hide.referenceHidden?"hidden":"visible")})},{animationFrame:!0});l(y)}}),$(l=>{e.value&&document.body.classList.add("tour--active"),l(()=>{document.body.classList.remove("tour--active")})});function f(l,y){o.value=l,g.value=y,e.value=!0}function S(){e.value=!1}return j(()=>{S()}),n({show:f,hide:S}),(l,y)=>(i(),d("div",st,[h(E,{name:"fade"},{default:u(()=>[v(e)?(i(),p(it,{key:0,target:v(o)},null,8,["target"])):m("",!0),v(e)?(i(),p(et,B({key:1,ref_key:"dialog",ref:a},v(g)),null,16)):m("",!0)]),_:1})]))}});export{yt as default};
