import{n as J,i as ee,t as V,d as q,e as te,f as L,g as ne,h as re,j as ie,k as ae,l as se,m as B,w as oe}from"./index.BXdnohvQ.js";import{l as O,v as M,r as y,x as ue,G as U,ah as X,R as $,y as le,ai as ce}from"./framework.Ae0H8jK5.js";function k(e){var t;const n=L(e);return(t=n==null?void 0:n.$el)!=null?t:n}const D=B?window:void 0,de=B?window.document:void 0,F=B?window.navigator:void 0;function T(...e){let t,n,a,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,a,r]=e,t=D):[t,n,a,r]=e,!t)return J;Array.isArray(n)||(n=[n]),Array.isArray(a)||(a=[a]);const i=[],f=()=>{i.forEach(c=>c()),i.length=0},s=(c,d,o,u)=>(c.addEventListener(d,o,u),()=>c.removeEventListener(d,o,u)),l=M(()=>[k(t),L(r)],([c,d])=>{if(f(),!c)return;const o=te(d)?{...d}:d;i.push(...n.flatMap(u=>a.map(v=>s(c,u,v,o))))},{immediate:!0,flush:"post"}),m=()=>{l(),f()};return V(m),m}let Y=!1;function De(e,t,n={}){const{window:a=D,ignore:r=[],capture:i=!0,detectIframe:f=!1}=n;if(!a)return J;ee&&!Y&&(Y=!0,Array.from(a.document.body.children).forEach(o=>o.addEventListener("click",J)),a.document.documentElement.addEventListener("click",J));let s=!0;const l=o=>r.some(u=>{if(typeof u=="string")return Array.from(a.document.querySelectorAll(u)).some(v=>v===o.target||o.composedPath().includes(v));{const v=k(u);return v&&(o.target===v||o.composedPath().includes(v))}}),c=[T(a,"click",o=>{const u=k(e);if(!(!u||u===o.target||o.composedPath().includes(u))){if(o.detail===0&&(s=!l(o)),!s){s=!0;return}t(o)}},{passive:!0,capture:i}),T(a,"pointerdown",o=>{const u=k(e);s=!l(o)&&!!(u&&!o.composedPath().includes(u))},{passive:!0}),f&&T(a,"blur",o=>{setTimeout(()=>{var u;const v=k(e);((u=a.document.activeElement)==null?void 0:u.tagName)==="IFRAME"&&!(v!=null&&v.contains(a.document.activeElement))&&t(o)},0)})].filter(Boolean);return()=>c.forEach(o=>o())}function fe(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function ke(...e){let t,n,a={};e.length===3?(t=e[0],n=e[1],a=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],a=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:r=D,eventName:i="keydown",passive:f=!1,dedupe:s=!1}=a,l=fe(t);return T(r,i,c=>{c.repeat&&L(s)||l(c)&&n(c)},f)}function me(){const{activeElement:e,body:t}=document;if(!e||e===t)return!1;switch(e.tagName){case"INPUT":case"TEXTAREA":return!0}return e.hasAttribute("contenteditable")}function ve({keyCode:e,metaKey:t,ctrlKey:n,altKey:a}){return t||n||a?!1:e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function Me(e,t={}){const{document:n=de}=t;n&&T(n,"keydown",r=>{!me()&&ve(r)&&e(r)},{passive:!0})}function pe(){const e=y(!1),t=X();return t&&le(()=>{e.value=!0},t),e}function R(e){const t=pe();return O(()=>(t.value,!!e()))}function he(e,t,n={}){const{window:a=D,...r}=n;let i;const f=R(()=>a&&"MutationObserver"in a),s=()=>{i&&(i.disconnect(),i=void 0)},l=O(()=>{const o=L(e),u=(Array.isArray(o)?o:[o]).map(k).filter(ne);return new Set(u)}),m=M(()=>l.value,o=>{s(),f.value&&o.size&&(i=new MutationObserver(t),o.forEach(u=>i.observe(u,r)))},{immediate:!0,flush:"post"}),c=()=>i==null?void 0:i.takeRecords(),d=()=>{m(),s()};return V(d),{isSupported:f,stop:d,takeRecords:c}}function G(e,t={}){const{window:n=D}=t,a=R(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const i=y(!1),f=m=>{i.value=m.matches},s=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",f):r.removeListener(f))},l=ue(()=>{a.value&&(s(),r=n.matchMedia(L(e)),"addEventListener"in r?r.addEventListener("change",f):r.addListener(f),i.value=r.matches)});return V(()=>{l(),s(),r=void 0}),i}function H(e,t={}){const{controls:n=!1,navigator:a=F}=t,r=R(()=>a&&"permissions"in a),i=U(),f=typeof e=="string"?{name:e}:e,s=U(),l=()=>{var c,d;s.value=(d=(c=i.value)==null?void 0:c.state)!=null?d:"prompt"};T(i,"change",l);const m=re(async()=>{if(r.value){if(!i.value)try{i.value=await a.permissions.query(f)}catch(c){i.value=void 0}finally{l()}if(n)return ce(i.value)}});return m(),n?{state:s,isSupported:r,query:m}:s}function Ce(e={}){const{navigator:t=F,read:n=!1,source:a,copiedDuring:r=1500,legacy:i=!1}=e,f=R(()=>t&&"clipboard"in t),s=H("clipboard-read"),l=H("clipboard-write"),m=O(()=>f.value||i),c=y(""),d=y(!1),o=ie(()=>d.value=!1,r);function u(){f.value&&_(s.value)?t.clipboard.readText().then(p=>{c.value=p}):c.value=b()}m.value&&n&&T(["copy","cut"],u);async function v(p=L(a)){m.value&&p!=null&&(f.value&&_(l.value)?await t.clipboard.writeText(p):h(p),c.value=p,d.value=!0,o.start())}function h(p){const g=document.createElement("textarea");g.value=p!=null?p:"",g.style.position="absolute",g.style.opacity="0",document.body.appendChild(g),g.select(),document.execCommand("copy"),g.remove()}function b(){var p,g,S;return(S=(g=(p=document==null?void 0:document.getSelection)==null?void 0:p.call(document))==null?void 0:g.toString())!=null?S:""}function _(p){return p==="granted"||p==="prompt"}return{isSupported:m,text:c,copied:d,copy:v}}function we(e){return JSON.parse(JSON.stringify(e))}const P=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j="__vueuse_ssr_handlers__",ge=ye();function ye(){return j in P||(P[j]=P[j]||{}),P[j]}function Q(e,t){return ge[e]||t}function be(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Se={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},K="vueuse-storage";function Ee(e,t,n,a={}){var r;const{flush:i="pre",deep:f=!0,listenToStorageChanges:s=!0,writeDefaults:l=!0,mergeDefaults:m=!1,shallow:c,window:d=D,eventFilter:o,onError:u=w=>{console.error(w)},initOnMounted:v}=a,h=(c?U:y)(typeof t=="function"?t():t);if(!n)try{n=Q("getDefaultStorage",()=>{var w;return(w=D)==null?void 0:w.localStorage})()}catch(w){u(w)}if(!n)return h;const b=L(t),_=be(b),p=(r=a.serializer)!=null?r:Se[_],{pause:g,resume:S}=oe(h,()=>C(h.value),{flush:i,deep:f,eventFilter:o});d&&s&&q(()=>{n instanceof Storage?T(d,"storage",I):T(d,K,z),v&&I()}),v||I();function N(w,E){if(d){const A={key:e,oldValue:w,newValue:E,storageArea:n};d.dispatchEvent(n instanceof Storage?new StorageEvent("storage",A):new CustomEvent(K,{detail:A}))}}function C(w){try{const E=n.getItem(e);if(w==null)N(E,null),n.removeItem(e);else{const A=p.write(w);E!==A&&(n.setItem(e,A),N(E,A))}}catch(E){u(E)}}function x(w){const E=w?w.newValue:n.getItem(e);if(E==null)return l&&b!=null&&n.setItem(e,p.write(b)),b;if(!w&&m){const A=p.read(E);return typeof m=="function"?m(A,b):_==="object"&&!Array.isArray(A)?{...b,...A}:A}else return typeof E!="string"?E:p.read(E)}function I(w){if(!(w&&w.storageArea!==n)){if(w&&w.key==null){h.value=b;return}if(!(w&&w.key!==e)){g();try{(w==null?void 0:w.newValue)!==p.write(h.value)&&(h.value=x(w))}catch(E){u(E)}finally{w?$(S):S()}}}}function z(w){I(w.detail)}return h}function Z(e){return G("(prefers-color-scheme: dark)",e)}const Ae="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function _e(e={}){const{selector:t="html",attribute:n="class",initialValue:a="auto",window:r=D,storage:i,storageKey:f="vueuse-color-scheme",listenToStorageChanges:s=!0,storageRef:l,emitAuto:m,disableTransition:c=!0}=e,d={auto:"",light:"light",dark:"dark",...e.modes||{}},o=Z({window:r}),u=O(()=>o.value?"dark":"light"),v=l||(f==null?ae(a):Ee(f,a,i,{window:r,listenToStorageChanges:s})),h=O(()=>v.value==="auto"?u.value:v.value),b=Q("updateHTMLAttrs",(S,N,C)=>{const x=typeof S=="string"?r==null?void 0:r.document.querySelector(S):k(S);if(!x)return;const I=new Set,z=new Set;let w=null;if(N==="class"){const A=C.split(/\s/g);Object.values(d).flatMap(W=>(W||"").split(/\s/g)).filter(Boolean).forEach(W=>{A.includes(W)?I.add(W):z.add(W)})}else w={key:N,value:C};if(I.size===0&&z.size===0&&w===null)return;let E;c&&(E=r.document.createElement("style"),E.appendChild(document.createTextNode(Ae)),r.document.head.appendChild(E));for(const A of I)x.classList.add(A);for(const A of z)x.classList.remove(A);w&&x.setAttribute(w.key,w.value),c&&(r.getComputedStyle(E).opacity,document.head.removeChild(E))});function _(S){var N;b(t,n,(N=d[S])!=null?N:S)}function p(S){e.onChanged?e.onChanged(S,_):_(S)}M(h,p,{flush:"post",immediate:!0}),q(()=>p(h.value));const g=O({get(){return m?v.value:h.value},set(S){v.value=S}});try{return Object.assign(g,{store:v,system:u,state:h})}catch(S){return g}}function Ie(e={}){const{valueDark:t="dark",valueLight:n="",window:a=D}=e,r=_e({...e,onChanged:(s,l)=>{var m;e.onChanged?(m=e.onChanged)==null||m.call(e,s==="dark",l,s):l(s)},modes:{dark:t,light:n}}),i=O(()=>r.system?r.system.value:Z({window:a}).value?"dark":"light");return O({get(){return r.value==="dark"},set(s){const l=s?"dark":"light";i.value===l?r.value="auto":r.value=l}})}function Le(e={}){const{navigator:t=F,requestPermissions:n=!1,constraints:a={audio:!0,video:!0},onUpdated:r}=e,i=y([]),f=O(()=>i.value.filter(v=>v.kind==="videoinput")),s=O(()=>i.value.filter(v=>v.kind==="audioinput")),l=O(()=>i.value.filter(v=>v.kind==="audiooutput")),m=R(()=>t&&t.mediaDevices&&t.mediaDevices.enumerateDevices),c=y(!1);let d;async function o(){m.value&&(i.value=await t.mediaDevices.enumerateDevices(),r==null||r(i.value),d&&(d.getTracks().forEach(v=>v.stop()),d=null))}async function u(){if(!m.value)return!1;if(c.value)return!0;const{state:v,query:h}=H("camera",{controls:!0});return await h(),v.value!=="granted"&&(d=await t.mediaDevices.getUserMedia(a),o()),c.value=!0,c.value}return m.value&&(n&&u(),T(t.mediaDevices,"devicechange",o),o()),{devices:i,ensurePermissions:u,permissionGranted:c,videoInputs:f,audioInputs:s,audioOutputs:l,isSupported:m}}function Oe(e,t,n={}){const{window:a=D,...r}=n;let i;const f=R(()=>a&&"ResizeObserver"in a),s=()=>{i&&(i.disconnect(),i=void 0)},l=O(()=>{const d=L(e);return Array.isArray(d)?d.map(o=>k(o)):[k(d)]}),m=M(l,d=>{if(s(),f.value&&a){i=new ResizeObserver(t);for(const o of d)o&&i.observe(o,r)}},{immediate:!0,flush:"post"}),c=()=>{s(),m()};return V(c),{isSupported:f,stop:c}}function Re(e,t={}){const{reset:n=!0,windowResize:a=!0,windowScroll:r=!0,immediate:i=!0,updateTiming:f="sync"}=t,s=y(0),l=y(0),m=y(0),c=y(0),d=y(0),o=y(0),u=y(0),v=y(0);function h(){const _=k(e);if(!_){n&&(s.value=0,l.value=0,m.value=0,c.value=0,d.value=0,o.value=0,u.value=0,v.value=0);return}const p=_.getBoundingClientRect();s.value=p.height,l.value=p.bottom,m.value=p.left,c.value=p.right,d.value=p.top,o.value=p.width,u.value=p.x,v.value=p.y}function b(){f==="sync"?h():f==="next-frame"&&requestAnimationFrame(()=>h())}return Oe(e,b),M(()=>k(e),_=>!_&&b()),he(e,b,{attributeFilter:["style","class"]}),r&&T("scroll",b,{capture:!0,passive:!0}),a&&T("resize",b,{passive:!0}),q(()=>{i&&b()}),{height:s,bottom:l,left:m,right:c,top:d,width:o,x:u,y:v,update:b}}function xe(e={}){var t,n;const a=y((t=e.enabled)!=null?t:!1),r=y((n=e.autoSwitch)!=null?n:!0),i=y(e.constraints),{navigator:f=F}=e,s=R(()=>{var h;return(h=f==null?void 0:f.mediaDevices)==null?void 0:h.getUserMedia}),l=U();function m(h){switch(h){case"video":{if(i.value)return i.value.video||!1;break}case"audio":{if(i.value)return i.value.audio||!1;break}}}async function c(){if(!(!s.value||l.value))return l.value=await f.mediaDevices.getUserMedia({video:m("video"),audio:m("audio")}),l.value}function d(){var h;(h=l.value)==null||h.getTracks().forEach(b=>b.stop()),l.value=void 0}function o(){d(),a.value=!1}async function u(){return await c(),l.value&&(a.value=!0),l.value}async function v(){return d(),await u()}return M(a,h=>{h?c():d()},{immediate:!0}),M(i,()=>{r.value&&l.value&&v()},{immediate:!0}),V(()=>{o()}),{isSupported:s,stream:l,start:u,stop:o,restart:v,constraints:i,enabled:a,autoSwitch:r}}function ze(e,t,n,a={}){var r,i,f;const{clone:s=!1,passive:l=!1,eventName:m,deep:c=!1,defaultValue:d,shouldEmit:o}=a,u=X(),v=(u==null?void 0:u.emit)||((r=u==null?void 0:u.$emit)==null?void 0:r.bind(u))||((f=(i=u==null?void 0:u.proxy)==null?void 0:i.$emit)==null?void 0:f.bind(u==null?void 0:u.proxy));let h=m;t||(t="modelValue"),h=h||`update:${t.toString()}`;const b=g=>s?typeof s=="function"?s(g):we(g):g,_=()=>se(e[t])?b(e[t]):d,p=g=>{o?o(g)&&v(h,g):v(h,g)};if(l){const g=_(),S=y(g);let N=!1;return M(()=>e[t],C=>{N||(N=!0,S.value=b(C),$(()=>N=!1))}),M(S,C=>{!N&&(C!==e[t]||c)&&p(C)},{deep:c}),S}else return O({get(){return _()},set(g){p(g)}})}function We(e={}){const{window:t=D,behavior:n="auto"}=e;if(!t)return{x:y(0),y:y(0)};const a=y(t.scrollX),r=y(t.scrollY),i=O({get(){return a.value},set(s){scrollTo({left:s,behavior:n})}}),f=O({get(){return r.value},set(s){scrollTo({top:s,behavior:n})}});return T(t,"scroll",()=>{a.value=t.scrollX,r.value=t.scrollY},{capture:!1,passive:!0}),{x:i,y:f}}function Ve(e={}){const{window:t=D,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:a=Number.POSITIVE_INFINITY,listenOrientation:r=!0,includeScrollbar:i=!0,type:f="inner"}=e,s=y(n),l=y(a),m=()=>{t&&(f==="outer"?(s.value=t.outerWidth,l.value=t.outerHeight):i?(s.value=t.innerWidth,l.value=t.innerHeight):(s.value=t.document.documentElement.clientWidth,l.value=t.document.documentElement.clientHeight))};if(m(),q(m),T("resize",m,{passive:!0}),r){const c=G("(orientation: portrait)");M(c,()=>m())}return{width:s,height:l}}export{Le as a,xe as b,Me as c,De as d,G as e,We as f,Re as g,ze as h,he as i,Ve as j,T as k,Ie as l,Ce as m,ke as o,H as u};
