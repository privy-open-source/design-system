import{u as E}from"./index.wZ2oc0_6.js";import{N as G}from"./index.DVPlHAa2.js";import{e as x}from"./index.CKr6bVGM.js";import{d as M,a6 as A,h as f,p as b,D as I,v as P,q as F,o as T,b as V,w as k,r as q,as as Q,at as K,N as L,H as Y,L as J,n as O,k as m}from"./framework.CI6Dj8yt.js";const z="--vc-auto-duration",U=`height var(${z}) cubic-bezier(0.33, 1, 0.68, 1)`,g={padding:0},W=300,X={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"},Z=()=>typeof navigator<"u"&&navigator.userAgent.includes("Firefox");function H(a){return a.value?parseFloat(getComputedStyle(a.value).height):0}function $(a){var l;return{height:`${((l=a.value)==null?void 0:l.scrollHeight)||0}px`}}function B(a){if(!a.value)return{};const{transition:l}=getComputedStyle(a.value);return l==="all 0s ease 0s"||Z()&&l==="all"?{transition:U}:{transition:l}}function R(a){if(!a.value)return!0;const{transition:l}=getComputedStyle(a.value);return typeof window.requestAnimationFrame>"u"||matchMedia("(prefers-reduced-motion: reduce)").matches||l.includes("none")||l.includes("height 0s")}function ee(a=0){if(a===0)return 0;const l=a/36,u=Math.round((4+15*l**.25+l/5)*10);return Number.isFinite(u)?u:0}const ae=M({inheritAttrs:!0,__name:"Collapse",props:{when:{type:Boolean},baseHeight:{default:0},as:{default:"div"}},emits:["collapse","expand","collapsed","expanded"],setup(a,{emit:l}){const u=a,n=l,i=A(u,"when"),o=A(u,"baseHeight"),d=f(()=>({overflow:"hidden",height:`${o.value}px`})),p=f(()=>({...g,...o.value===0?{display:"none"}:d.value})),t=b(null),s=b(i.value?"expanded":"collapsed"),r=e=>s.value=e;function h(){return i.value?g:o.value===0?X:p.value}const w=I(h()),c=e=>w.value=e,v=e=>c({...w.value,...e}),_=b(W),D=e=>_.value=e,C=f(()=>({[z]:`${_.value}ms`}));function N(){c(g),r("expanded"),n("expanded")}function S(){c(p.value),r("collapsed"),n("collapsed")}P(()=>{if(!t.value)return;const e=ee(t.value.scrollHeight-o.value);e>0&&D(e),!i.value&&o.value===0&&c(p.value)}),F(i,e=>{if(e){if(R(t))return N();r("expanding"),n("expand"),c({...g,...d.value,...C.value}),requestAnimationFrame(()=>{v({...$(t),...B(t),willChange:"height"})})}else{if(R(t))return S();r("collapsing"),n("collapse"),v({...C.value,...$(t)}),requestAnimationFrame(()=>{v({...d.value,...B(t),willChange:"height"})})}}),F(o,e=>{i.value||(e>0?v({display:void 0,height:`${e}px`}):v({display:"none"}))});function j(e){var y;e.target===t.value&&e.propertyName==="height"&&(i.value?((y=t.value)==null?void 0:y.scrollHeight)===H(t)&&N():o.value===H(t)&&S())}return(e,y)=>(T(),V(Y(u.as),{ref_key:"collapseRef",ref:t,style:L(w.value),onTransitionend:j,"data-collapse":s.value},{default:k(()=>[q(e.$slots,"default",Q(K({state:s.value})))]),_:3},40,["style","data-collapse"]))}}),ue=M({__name:"Collapse",props:{modelValue:{type:Boolean,default:!1},isNav:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(a){const l=a,u=E(l),n=J(G,void 0,!0),i=x("(min-width: 1024px)"),o=x("(min-width: 768px)"),d=x("(min-width: 640px)"),p=f(()=>{var s,r,h;return((s=n==null?void 0:n.toggleable)==null?void 0:s.value)==="lg"?i.value:((r=n==null?void 0:n.toggleable)==null?void 0:r.value)==="md"?o.value:((h=n==null?void 0:n.toggleable)==null?void 0:h.value)==="sm"?d.value:u.value}),t=f(()=>{const s=[""];return u.value?s.push("collapse--show"):s.push("collapse--hide"),l.isNav&&s.push("navbar--collapse"),s});return(s,r)=>(T(),V(m(ae),{"data-testid":"collapse",class:O(["collapses",m(t)]),when:m(u)||m(p)},{default:k(()=>[q(s.$slots,"default")]),_:3},8,["class","when"]))}});export{ue as _};
