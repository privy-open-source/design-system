import{d as v,c,a as g}from"./create-image.CkAV8b2h.js";import{l as y}from"./load-image.CsguPAoR.js";import{d as S,p as h,h as o,q as _,v as A,c as k,r as q,n as d,k as r,o as z,j as B}from"./framework.CI6Dj8yt.js";const C=["data-type","src"],$=S({name:"Avatar",__name:"Avatar",props:{variant:{type:String,default:void 0},src:{type:String,default:void 0},fallbackSrc:{type:String,default:v()},name:{type:String,default:void 0},size:{type:String,default:"md"},imgClass:{type:[String,Array,Object],default:void 0},square:{type:Boolean,default:!1}},emits:["imgloaded","imgerror"],setup(s,{emit:u}){const a=s,n=u,t=h(c(50)),m=o(()=>{const e=["avatar"];return a.size&&e.push(`avatar--${a.size}`),a.square&&e.push("avatar--square"),e}),i=o(()=>a.variant?a.variant:!a.src&&a.name?"alias":"image");function l(){i.value==="alias"?p():f()}function f(){t.value=c(50),y(a.src).then(()=>{t.value=a.src,n("imgloaded",a.src)}).catch(e=>{t.value=a.fallbackSrc,n("imgerror",e)})}function p(){t.value=g(a.name)}return _(()=>[a.src,a.name,a.variant],()=>{l()}),A(()=>{l()}),(e,b)=>(z(),k("div",{"data-testid":"avatar",class:d(r(m))},[q(e.$slots,"default",{},()=>[B("img",{"data-testid":"avatar-image",class:d(["avatar__image",s.imgClass]),"data-type":r(i),src:r(t),alt:"Avatar Image"},null,10,C)])],2))}});export{$ as _};
