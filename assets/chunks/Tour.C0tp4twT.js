import{d as $,o as i,c as d,I as h,h as m,m as r,g as p,w as u,aa as w,p as v,f as c,F as T,b,n as D,t as V,r as L,x as _,M as B,G as x,l as I,a1 as M,aM as R}from"./framework.Ae0H8jK5.js";import{_ as E}from"./Subheading.vue_vue_type_style_index_0_lang.DKeMSs9V.js";import{_ as G}from"./Caption.vue_vue_type_script_setup_true_lang.DTFNJHgn.js";/* empty css                                                */import{_ as k}from"./Button.vue_vue_type_script_setup_true_lang.ISBzTgbu.js";/* empty css                                               */import{v as C}from"./index.DaIlsiXv.js";import{I as H}from"./16.BvV6YgcX.js";import{a as N,c as U,b as j,s as A,i as O,h as q,o as J}from"./floating-ui.dom.D8eMPWlJ.js";import"./index.DvWHfs5K.js";import"./SpinnerRinggo.vue_vue_type_script_setup_true_lang.BL8kVc-G.js";import"./purify.es.B6CWwVBg.js";import"./defu.BhsQtd2f.js";const K=["src"],Q={class:"tour__body"},W={"data-testid":"tour-title"},X={"data-testid":"tour-text"},Y={class:"tour__footer"},Z={key:0,class:"tour__meta","data-testid":"tour-meta"},tt={class:"tour__controls"},et=$({__name:"TourDialog",props:{title:{type:String,default:void 0},text:{type:String,default:""},image:{type:String,default:void 0},highlight:{type:Boolean,default:!0},step:{type:Number,default:0},totalStep:{type:Number,default:0},dismissable:{type:Boolean,default:!0},prevLabel:{type:String,default:"Previous"},nextLabel:{type:String,default:"Next"},dismissLabel:{type:String,default:"Dismiss"},finishLabel:{type:String,default:"Finish"}},emits:["prev","next","dismiss"],setup(t){return(n,e)=>(i(),d("div",{class:D(["tour__dialog",{"tour--image":!!t.image}]),"data-testid":"tour-dialog"},[t.dismissable?(i(),d("span",{key:0,"data-testid":"tour-dismiss",class:"tour__dismiss",onClick:e[0]||(e[0]=a=>n.$emit("dismiss",a))},[h(H)])):m("",!0),t.image?(i(),d("img",{key:1,class:"tour__image","data-testid":"tour-image",src:t.image,alt:"tour-image",width:"320",height:"195"},null,8,K)):m("",!0),r("div",Q,[t.title?(i(),p(E,{key:0,class:"tour__title",size:"sm"},{default:u(()=>[w(r("span",W,null,512),[[v(C),t.title,void 0,{inline:!0}]])]),_:1})):m("",!0),h(G,null,{default:u(()=>[w(r("span",X,null,512),[[v(C),t.text,void 0,{inline:!0}]])]),_:1})]),r("div",Y,[t.totalStep>2?(i(),d("div",Z,c(t.step)+" / "+c(t.totalStep),1)):m("",!0),r("div",tt,[t.dismissable&&t.step<t.totalStep?(i(),d(T,{key:0},[h(k,{"data-testid":"tour-control-dismiss",size:"xs",variant:"link",onClick:e[1]||(e[1]=a=>n.$emit("dismiss",a))},{default:u(()=>[b(c(t.dismissLabel),1)]),_:1}),e[5]||(e[5]=r("span",{class:"tour__divider"},"â€¢",-1))],64)):m("",!0),h(k,{"data-testid":"tour-control-prev",size:"xs",variant:"link",disabled:t.step<2,onClick:e[2]||(e[2]=a=>n.$emit("prev",a))},{default:u(()=>[b(c(t.prevLabel),1)]),_:1},8,["disabled"]),t.step===t.totalStep?(i(),p(k,{key:1,"data-testid":"tour-control-finish",size:"xs",variant:"solid",color:"info",onClick:e[3]||(e[3]=a=>n.$emit("next",a))},{default:u(()=>[b(c(t.finishLabel),1)]),_:1})):(i(),p(k,{key:2,"data-testid":"tour-control-next",size:"xs",variant:"solid",color:"info",onClick:e[4]||(e[4]=a=>n.$emit("next",a))},{default:u(()=>[b(c(t.nextLabel),1)]),_:1}))])])],2))}}),at={class:"tour__backdrop"},it=$({inheritAttrs:!1,__name:"TourHighlight",props:{target:{type:Object,default:void 0}},setup(t){const e=V(t,"target"),a=L();return _(o=>{if(a.value&&e.value){const g=N(e.value,a.value,()=>{const s=e.value.getBoundingClientRect(),f=16;a.value.style.width=`${s.width+f}px`,a.value.style.height=`${s.height+f}px`,a.value.style.left=`${s.left-f/2}px`,a.value.style.top=`${s.top-f/2}px`},{animationFrame:!0});o(g)}}),(o,g)=>(i(),d("div",at,[r("div",B({ref_key:"highlight",ref:a,class:"tour__highlight"},o.$attrs),null,16)]))}}),st={class:"tour"},yt=$({__name:"Tour",setup(t,{expose:n}){const e=L(!1),a=x(),o=x(),g=x(),s=I(()=>{var l;return(l=a.value)==null?void 0:l.$el});_(l=>{if(o.value&&s.value){const y=N(o.value,s.value,async()=>{U(o.value,s.value,{strategy:"absolute",middleware:[j({altBoundary:!0}),A({padding:16}),O(),q(),J(16)]}).then(({x:z,y:F,middlewareData:P})=>{s.value&&(s.value.style.transform=`translate3d(${z||0}px, ${F||0}px, 0)`,s.value.style.visibility=P.hide.referenceHidden?"hidden":"visible")})},{animationFrame:!0});l(y)}}),_(l=>{e.value&&document.body.classList.add("tour--active"),l(()=>{document.body.classList.remove("tour--active")})});function f(l,y){o.value=l,g.value=y,e.value=!0}function S(){e.value=!1}return M(()=>{S()}),n({show:f,hide:S}),(l,y)=>(i(),d("div",st,[h(R,{name:"fade"},{default:u(()=>[v(e)?(i(),p(it,{key:0,target:v(o)},null,8,["target"])):m("",!0),v(e)?(i(),p(et,B({key:1,ref_key:"dialog",ref:a},v(g)),null,16)):m("",!0)]),_:1})]))}});export{yt as default};
