import{d as b,l as u,o as i,c as s,m,p as n,g as I,J as S,h as a,n as P,aa as l,F as j,E as w,M as y,a2 as A,I as B,a6 as N}from"./framework.SPHuL2wz.js";import{I as M}from"./16.B9F8soTy.js";import{v as d}from"./index.CxC42Yo0.js";import{u as O}from"./index.CO8iijMR.js";import{P as $}from"./index.viQdWA7x.js";const E={class:"popup__body"},F={key:0,class:"popup__title"},V={key:1,class:"popup__text","data-testid":"popup-text"},D={key:2,class:"popup__actions"},z=["onClick"],Q=b({__name:"Popup",props:{title:{type:String,default:""},text:{type:String,default:""},type:{type:String,default:"info"},variant:{type:String,default:"simple"},icon:{type:[String,Object,Function],default:void 0},iconColor:{type:String,default:void 0},popupAttrs:{type:Object,default:void 0},popupClass:{type:[String,Array,Object],default:void 0},actions:{type:Array,default:()=>[]},dismissable:{type:Boolean,default:!0}},emits:["dismissed"],setup(e,{emit:v}){const t=e,h=O(),g=v,k=u(()=>{const o=["popup"];return t.type&&o.push(`popup--${t.type}`),t.variant&&o.push(`popup--${t.variant}`),o}),C=u(()=>{const o=["default"];return t.iconColor&&o.push(`popup__icon--${t.iconColor}`),o}),f=u(()=>t.icon?typeof t.icon=="string"?()=>N("img",{src:t.icon,width:20,height:20,"data-testid":"popup-icon-image"}):t.icon:$[t.type]);function p(){h.close(),g("dismissed")}async function _(o){const c=new MouseEvent("click");typeof o.onClick=="function"&&await o.onClick(Object.assign(c,{close:p})),c.defaultPrevented||p()}return(o,c)=>(i(),s("div",y({"data-testid":"popup",class:[n(k),e.popupClass]},e.popupAttrs),[m("div",{class:P(["popup__icon",n(C)]),"data-testid":"popup-icon"},[n(f)?(i(),I(S(n(f)),{key:0})):a("",!0)],2),m("div",E,[e.title?l((i(),s("div",F,null,512)),[[n(d),e.title,void 0,{inline:!0}]]):a("",!0),e.text?l((i(),s("div",V,null,512)),[[n(d),e.text,void 0,{inline:!0}]]):a("",!0),e.actions.length>0?(i(),s("div",D,[(i(!0),s(j,null,w(e.actions,(r,x)=>l((i(),s("a",y({key:x,"data-testid":"popup-action",href:"javascript:void",class:"popup__action",ref_for:!0},r.attrs,{onClick:A(J=>_(r),["prevent"])}),null,16,z)),[[n(d),r.text,void 0,{inline:!0}]])),128))])):a("",!0)]),e.dismissable?(i(),s("div",{key:0,"data-testid":"popup-close",class:"popup__close",onClick:p},[B(M)])):a("",!0)],16))}});export{Q as _};
