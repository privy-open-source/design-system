import{d as x,h as r,o as i,c as o,j as m,k as s,b as S,H as j,e as a,n as I,an as d,F as P,C as w,K as y,a0 as A,G as B,a4 as N}from"./framework.CI6Dj8yt.js";import{I as O}from"./16.D7uNs2_7.js";import{v as l}from"./index.DaIlsiXv.js";import{u as $}from"./index.DfEDK_lI.js";import{P as F}from"./index.Prq00lB0.js";const M={class:"popup__body"},V={key:0,class:"popup__title"},D={key:1,class:"popup__text","data-testid":"popup-text"},E={key:2,class:"popup__actions"},z=["onClick"],Q=x({__name:"Popup",props:{title:{type:String,default:""},text:{type:String,default:""},type:{type:String,default:"info"},variant:{type:String,default:"simple"},icon:{type:[String,Object,Function],default:void 0},iconColor:{type:String,default:void 0},popupAttrs:{type:Object,default:void 0},popupClass:{type:[String,Array,Object],default:void 0},actions:{type:Array,default:()=>[]},dismissable:{type:Boolean,default:!0}},emits:["dismissed"],setup(e,{emit:v}){const t=e,h=$(),k=v,C=r(()=>{const n=["popup"];return t.type&&n.push(`popup--${t.type}`),t.variant&&n.push(`popup--${t.variant}`),n}),_=r(()=>{const n=["default"];return t.iconColor&&n.push(`popup__icon--${t.iconColor}`),n}),f=r(()=>t.icon?typeof t.icon=="string"?()=>N("img",{src:t.icon,width:20,height:20,"data-testid":"popup-icon-image"}):t.icon:F[t.type]);function p(){h.close(),k("dismissed")}async function g(n){const c=new MouseEvent("click");typeof n.onClick=="function"&&await n.onClick(Object.assign(c,{close:p})),c.defaultPrevented||p()}return(n,c)=>(i(),o("div",y({"data-testid":"popup",class:[s(C),e.popupClass]},e.popupAttrs),[m("div",{class:I(["popup__icon",s(_)]),"data-testid":"popup-icon"},[s(f)?(i(),S(j(s(f)),{key:0})):a("",!0)],2),m("div",M,[e.title?d((i(),o("div",V,null,512)),[[s(l),e.title,void 0,{inline:!0}]]):a("",!0),e.text?d((i(),o("div",D,null,512)),[[s(l),e.text,void 0,{inline:!0}]]):a("",!0),e.actions.length>0?(i(),o("div",E,[(i(!0),o(P,null,w(e.actions,(u,b)=>d((i(),o("a",y({key:b,"data-testid":"popup-action",href:"javascript:void",class:"popup__action",ref_for:!0},u.attrs,{onClick:A(G=>g(u),["prevent"])}),null,16,z)),[[s(l),u.text,void 0,{inline:!0}]])),128))])):a("",!0)]),e.dismissable?(i(),o("div",{key:0,"data-testid":"popup-close",class:"popup__close",onClick:p},[B(O)])):a("",!0)],16))}});export{Q as _};
