import{u as j}from"./index.C2ufR_OV.js";import{N as D}from"./index.DVPlHAa2.js";import{e as x}from"./index.ZHKAprQ0.js";import{d as M,t as N,l as h,r as b,I as E,A as G,y as F,o as T,g as V,w as z,a as k,ah as Q,ai as K,R as L,L as Y,P as J,n as O,p as m}from"./framework.mXQspOPA.js";const q="--vc-auto-duration",U=`height var(${q}) cubic-bezier(0.33, 1, 0.68, 1)`,g={padding:0},W=300,X={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"},Z=()=>typeof navigator<"u"&&navigator.userAgent.includes("Firefox");function R(a){return a.value?parseFloat(getComputedStyle(a.value).height):0}function $(a){var l;return{height:`${((l=a.value)==null?void 0:l.scrollHeight)||0}px`}}function B(a){if(!a.value)return{};const{transition:l}=getComputedStyle(a.value);return l==="all 0s ease 0s"||Z()&&l==="all"?{transition:U}:{transition:l}}function H(a){if(!a.value)return!0;const{transition:l}=getComputedStyle(a.value);return typeof window.requestAnimationFrame>"u"||matchMedia("(prefers-reduced-motion: reduce)").matches||l.includes("none")||l.includes("height 0s")}function ee(a=0){if(a===0)return 0;const l=a/36,o=Math.round((4+15*l**.25+l/5)*10);return Number.isFinite(o)?o:0}const ae=M({inheritAttrs:!0,__name:"Collapse",props:{when:{type:Boolean},baseHeight:{default:0},as:{default:"div"}},emits:["collapse","expand","collapsed","expanded"],setup(a,{emit:l}){const o=a,n=l,i=N(o,"when"),u=N(o,"baseHeight"),p=h(()=>({overflow:"hidden",height:`${u.value}px`})),d=h(()=>({...g,...u.value===0?{display:"none"}:p.value})),t=b(null),s=b(i.value?"expanded":"collapsed"),r=e=>s.value=e;function f(){return i.value?g:u.value===0?X:d.value}const w=E(f()),c=e=>w.value=e,v=e=>c({...w.value,...e}),_=b(W),I=e=>_.value=e,C=h(()=>({[q]:`${_.value}ms`}));function A(){c(g),r("expanded"),n("expanded")}function S(){c(d.value),r("collapsed"),n("collapsed")}G(()=>{if(!t.value)return;const e=ee(t.value.scrollHeight-u.value);e>0&&I(e),!i.value&&u.value===0&&c(d.value)}),F(i,e=>{if(e){if(H(t))return A();r("expanding"),n("expand"),c({...g,...p.value,...C.value}),requestAnimationFrame(()=>{v({...$(t),...B(t),willChange:"height"})})}else{if(H(t))return S();r("collapsing"),n("collapse"),v({...C.value,...$(t)}),requestAnimationFrame(()=>{v({...p.value,...B(t),willChange:"height"})})}}),F(u,e=>{i.value||(e>0?v({display:void 0,height:`${e}px`}):v({display:"none"}))});function P(e){var y;e.target===t.value&&e.propertyName==="height"&&(i.value?((y=t.value)==null?void 0:y.scrollHeight)===R(t)&&A():u.value===R(t)&&S())}return(e,y)=>(T(),V(Y(o.as),{ref_key:"collapseRef",ref:t,style:L(w.value),onTransitionend:P,"data-collapse":s.value},{default:z(()=>[k(e.$slots,"default",Q(K({state:s.value})))]),_:3},40,["style","data-collapse"]))}}),oe=M({__name:"Collapse",props:{modelValue:{type:Boolean,default:!1},isNav:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(a){const l=a,o=j(l),n=J(D,void 0,!0),i=x("(min-width: 1024px)"),u=x("(min-width: 768px)"),p=x("(min-width: 640px)"),d=h(()=>{var s,r,f;return((s=n==null?void 0:n.toggleable)==null?void 0:s.value)==="lg"?i.value:((r=n==null?void 0:n.toggleable)==null?void 0:r.value)==="md"?u.value:((f=n==null?void 0:n.toggleable)==null?void 0:f.value)==="sm"?p.value:o.value}),t=h(()=>{const s=[""];return o.value?s.push("collapse--show"):s.push("collapse--hide"),l.isNav&&s.push("navbar--collapse"),s});return(s,r)=>(T(),V(m(ae),{"data-testid":"collapse",class:O(["collapses",m(t)]),when:m(o)||m(d)},{default:z(()=>[k(s.$slots,"default")]),_:3},8,["class","when"]))}});export{oe as _};
