import{t as b,f as J}from"./index.vDTeR44h.js";import{u as S}from"./index.gVcbEyr5.js";import{G as K,y as D,a7 as Q,X as W,d as Y,V as h,h as N,g as r,_ as Z,o as x,c as ee,k as d,a5 as T,aa as B,O as E,n as ae}from"./framework.5W3OCrpp.js";import{t as te}from"./throttle.Yy5L90F6.js";import{k as _,s as R}from"./index.vqmJczYN.js";function $(e,t){const s=K();D(e,async c=>{if(s.value&&s.value.unset(),c){const{default:v}=await W(()=>import("./interact.min.kN5JJCg1.js").then(l=>l.i),__vite__mapDeps([0,1])),n=te(t,1e3/120);s.value=v(c).styleCursor(!1).draggable({onmove:n})}}),Q(async()=>{s.value&&s.value.unset()})}const le=Y({props:{modelValue:{type:[Number,Array],default:void 0},start:{type:Number,default:void 0},end:{type:Number,default:void 0},step:{type:[String,Number],default:1},min:{type:[String,Number],default:0},max:{type:[String,Number],default:100},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:Boolean,default:!1}},models:{prop:"modelValue",event:"update:modelValue"},emits:["change","update:modelValue","update:end","update:start"],setup(e,{emit:t}){var C,w,V;const s=b("track"),c=b("thumb-start"),v=b("thumb-end"),n=_(h(e,"min")),l=_(h(e,"max")),f=_(h(e,"step")),k=N(Array.isArray(e.modelValue)?e.modelValue[0]:(C=e.start)!=null?C:n.value),y=N(Array.isArray(e.modelValue)?e.modelValue[1]:(V=(w=e.end)!=null?w:e.modelValue)!=null?V:l.value),L=r(()=>e.multiple?k.value+f.value:n.value),P=r(()=>e.multiple?y.value-f.value:l.value),i=S(k.value,n,P),o=S(y.value,L,l),{width:U,left:I}=J(s),M=r({get(){var a;return Array.isArray(e.modelValue)?e.modelValue[0]:(a=e.start)!=null?a:n.value},set(a){t("update:start",a)}}),z=r({get(){var a;return Array.isArray(e.modelValue)?e.modelValue[1]:Number.isFinite(e.modelValue)?e.modelValue:(a=e.end)!=null?a:l.value},set(a){t("update:end",a)}}),p=r(()=>(i.value-n.value)/(l.value-n.value)*100),O=r(()=>(o.value-n.value)/(l.value-n.value)*100),X=r(()=>{const a=[];return e.disabled&&a.push("input-range--disabled"),e.readonly&&a.push("input-range--readonly"),e.error&&a.push("input-range--error","state--error"),a}),F=r(()=>({width:`${p.value}%`})),G=r(()=>({width:`${O.value-p.value}%`}));function m(a){const g=(a.pageX-I.value)/U.value*(l.value-n.value)+n.value;return Math.round(g/f.value)*f.value}function j(a){!e.disabled&&!e.readonly&&(i.value=m(a))}function q(a){if(!e.disabled&&!e.readonly){const u=m(a);if(e.multiple){const A=Math.abs(u-i.value),g=Math.abs(u-o.value);if(A<g){i.value=u;return}}o.value=u}}function H(a){!e.disabled&&!e.readonly&&(o.value=m(a))}return $(c,a=>{!e.disabled&&!e.readonly&&(i.value=m(a))}),$(v,a=>{!e.disabled&&!e.readonly&&(o.value=m(a))}),R(i,M,{immediate:!1}),R(o,z,{immediate:!1}),D([i,o],([a,u])=>{k.value=a,y.value=u,e.multiple?(t("update:modelValue",[a,u]),t("change",[a,u])):(t("update:modelValue",u),t("change",u))}),{classNames:X,lowerStyle:F,upperStyle:G,onClickLowerTrack:j,onClickActiveTrack:q,onClickUpperTrack:H}}}),ne={ref:"track",class:"input-range__tracks"},ue={ref:"thumb-start","data-testid":"thumb-start",class:"input-range__thumb input-range__thumb-start"},re={ref:"thumb-end","data-testid":"thumb-end",class:"input-range__thumb input-range__thumb-end"};function se(e,t,s,c,v,n){return x(),ee("div",{"data-testid":"input-range",class:ae(["input-range",e.classNames])},[d("div",ne,[T(d("div",{"data-testid":"track-lower",class:"input-range__track input-range__track-lower",style:E(e.lowerStyle),onClickCapture:t[0]||(t[0]=(...l)=>e.onClickLowerTrack&&e.onClickLowerTrack(...l))},null,36),[[B,e.multiple]]),d("div",{ref:"track-active","data-testid":"track-active",class:"input-range__track input-range__track-active",style:E(e.upperStyle),onClickCapture:t[1]||(t[1]=(...l)=>e.onClickActiveTrack&&e.onClickActiveTrack(...l))},[T(d("div",ue,null,512),[[B,e.multiple]]),d("div",re,null,512)],36),d("div",{"data-testid":"track-upper",class:"input-range__track input-range__track-upper",onClickCapture:t[2]||(t[2]=(...l)=>e.onClickUpperTrack&&e.onClickUpperTrack(...l))},null,32)],512)],2)}const fe=Z(le,[["render",se]]);export{fe as p};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/chunks/interact.min.kN5JJCg1.js","assets/chunks/commonjsHelpers.4gQjN7DL.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}