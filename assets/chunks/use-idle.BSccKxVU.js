import{i as I,g as O,j as L,k as B}from"./index.CKr6bVGM.js";import{d as W,p as D,q as H,u as M}from"./index.C4QC3-vE.js";import{D as V,q as x,k as s,L as S,p as d,a3 as j,h as P,s as R,_ as q,o as $,c as z,j as b,d as A,G as c,w as g,t as _,al as X,r as N,a as w}from"./framework.CI6Dj8yt.js";import{f as J}from"./focus.DWrlVhv-.js";import{u as E}from"./index.DDyPugY2.js";import{d as U}from"./debounce.CE-8mXQa.js";import{r as Z}from"./baseGetTag.Cu32HCTk.js";import{t as G}from"./toInteger.MhUOs5fD.js";import{t as K}from"./toNumber.Dcxq_36h.js";import{t as T}from"./toString.CRwK6hIk.js";import{n as p}from"./noop.DX6rZLP_.js";import{I as Q,a as Y}from"./20.D7_d_lC5.js";import{I as tt}from"./20.4Lp1Y2VN.js";import{_ as y}from"./Button.vue_vue_type_script_setup_true_lang.DOHgQt4I.js";/* empty css                                               */import{_ as et}from"./Divider.vue_vue_type_script_setup_true_lang.BaPmHFQQ.js";/* empty css                                                */import{_ as ot}from"./Select.vue_vue_type_style_index_0_lang.DQaIroZP.js";var at=Z.isFinite,it=Math.min;function nt(t){var a=Math[t];return function(o,e){if(o=K(o),e=e==null?0:it(G(e),292),e&&at(o)){var i=(T(o)+"e").split("e"),l=a(i[0]+"e"+(+i[1]+e));return i=(T(l)+"e").split("e"),+(i[0]+"e"+(+i[1]-e))}return a(o)}}var st=nt("round");function lt(t,a=document.body,o=!1){const e=V();function i(){var l,u;e.value=o?(l=s(a))==null?void 0:l.querySelectorAll(s(t)):(u=s(a))==null?void 0:u.querySelector(s(t))}return x(()=>s(t),()=>{i()}),I(a,l=>{l.some(u=>u.type==="childList")&&i()},{childList:!0,subtree:!0}),W(()=>{i()}),e}const F=Symbol("PDFObjects"),Dt=Symbol("PDFObjects");function rt(t){var f,h,m,r;const a=P(()=>st(t.width/t.height,2)),o=d((f=t.minWidth)!=null?f:t.width*.5),e=d((h=t.maxWidth)!=null?h:t.width*2),i=d((m=t.minHeight)!=null?m:t.height*.5),l=d((r=t.maxHeight)!=null?r:t.height*2),u=E(t.width,o,e),v=E(t.height,i,l);return x(()=>t.minWidth,n=>{Number.isFinite(n)&&(o.value=n)}),x(()=>t.minHeight,n=>{Number.isFinite(n)&&(i.value=n)}),x(()=>t.maxWidth,n=>{Number.isFinite(n)&&(e.value=n)}),x(()=>t.maxHeight,n=>{Number.isFinite(n)&&(l.value=n)}),{ratio:a,width:u,height:v,minWidth:o,maxWidth:e,minHeight:i,maxHeight:l}}function Ht(t){var k;const{objects:a,page:o}=S(F),e=d((k=t.page)!=null?k:o.value),i=d(t.x),l=d(t.y),u=Symbol("PDFObject"),{width:v,height:f,minWidth:h,maxWidth:m,minHeight:r,maxHeight:n,ratio:C}=rt(t);return a.set(u,j({id:u,page:e,x:i,y:l,width:v,height:f})),D(()=>{Number.isFinite(e.value)||M(o).toBeTruthy().then(()=>{e.value=o.value})}),H(()=>{a.delete(u)}),{id:u,x:i,y:l,page:e,width:v,height:f,minWidth:h,minHeight:r,maxWidth:m,maxHeight:n,ratio:C}}function Mt(t){const{root:a}=S(F),o=P(()=>`.page[data-page-number="${s(t)}"]`);return lt(o,a)}const Vt=U(J,100),ut=Symbol("PdfViewer");function ct(){return S(ut,()=>{const t=d(1),a=d(1),o=d(0);return{page:t,scale:a,totalPage:o,zoomIn:p,zoomOut:p,next:p,prev:p,first:p,last:p}},!0)}function jt(t,a={}){const o=d(!1),e=P(()=>{var r;return(r=s(a.offsetTop))!=null?r:0}),i=P(()=>{var r;return(r=s(t))==null?void 0:r.parentElement}),{top:l,height:u}=O(i),{top:v,width:f,left:h}=O(t),{height:m}=L();return R(r=>{o.value&&t.value&&(l.value-e.value>=0?(t.value.style.setProperty("height",`${m.value-v.value}px`),t.value.style.setProperty("width","100%")):(i.value.style.setProperty("min-height",`${u.value}px`),t.value.style.setProperty("position","fixed"),t.value.style.setProperty("top",`${e.value}px`),t.value.style.setProperty("left",`${h.value}px`),t.value.style.setProperty("width",`${f.value}px`),t.value.style.setProperty("height",`${m.value-e.value}px`)),r(()=>{i.value.style.removeProperty("min-height"),t.value.style.removeProperty("position"),t.value.style.removeProperty("top"),t.value.style.removeProperty("left"),t.value.style.removeProperty("width"),t.value.style.removeProperty("height")}))}),o}const dt={},ft={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",class:"persona-icon",viewBox:"0 0 20 20"};function mt(t,a){return $(),z("svg",ft,a[0]||(a[0]=[b("path",{fill:"currentColor","fill-rule":"evenodd",d:"M9.558 6.598a.625.625 0 0 1 .884 0l4.44 4.44a.625.625 0 1 1-.884.884L10 7.924l-3.998 3.998a.625.625 0 1 1-.884-.884z","clip-rule":"evenodd"},null,-1)]))}const vt=q(dt,[["render",mt]]),ht={"data-testid":"pdf-navigation",class:"pdf__navigation"},gt={class:"pdf__navigation-container"},pt={class:"pdf__navigation-scale"},yt={"data-testid":"pdf-total",class:"pdf__navigation-total"},Rt=A({__name:"PdfNavigation",props:{firstNavLabel:{type:String,default:"First"},lastNavLabel:{type:String,default:"Last"},numOfPagesNavLabel:{type:String,default:"of"}},setup(t){const{page:a,scale:o,totalPage:e,zoomIn:i,zoomOut:l,next:u,prev:v,first:f,last:h}=ct(),m=P(()=>Array.from({length:e.value}).map((r,n)=>({text:`${n+1}`,value:n+1})));return(r,n)=>($(),z("div",ht,[b("div",gt,[c(y,{"data-testid":"pdf-zoom-out",variant:"ghost",size:"xs",icon:"",onClick:s(l)},{default:g(()=>[c(Q)]),_:1},8,["onClick"]),b("span",pt,_((s(o)*100).toFixed(0))+"% ",1),c(y,{"data-testid":"pdf-zoom-in",variant:"ghost",size:"xs",icon:"",onClick:s(i)},{default:g(()=>[c(Y)]),_:1},8,["onClick"]),c(et,{vertical:""}),c(ot,{modelValue:s(a),"onUpdate:modelValue":n[0]||(n[0]=C=>X(a)?a.value=C:null),options:s(m),size:"xs"},null,8,["modelValue","options"]),b("span",yt,[N(r.$slots,"num-of-pages-navigation",{},()=>[w(_(t.numOfPagesNavLabel),1)]),w(" "+_(s(e)),1)]),c(y,{"data-testid":"pdf-start",variant:"ghost",size:"xs",icon:"",onClick:s(f)},{default:g(()=>[N(r.$slots,"first-navigation",{},()=>[w(_(t.firstNavLabel),1)])]),_:3},8,["onClick"]),c(y,{"data-testid":"pdf-prev",variant:"ghost",size:"xs",icon:"",onClick:s(v)},{default:g(()=>[c(vt)]),_:1},8,["onClick"]),c(y,{"data-testid":"pdf-next",variant:"ghost",size:"xs",icon:"",onClick:s(u)},{default:g(()=>[c(tt)]),_:1},8,["onClick"]),c(y,{"data-testid":"pdf-end",variant:"ghost",size:"xs",icon:"",onClick:s(h)},{default:g(()=>[N(r.$slots,"last-navigation",{},()=>[w(_(t.lastNavLabel),1)])]),_:3},8,["onClick"])])]))}}),_t=["mousemove","mousedown","touchstart","keydown","scroll"];function qt(t,a=5e3){const o=d(!1);let e;function i(){o.value=!1,e&&clearTimeout(e),e=setTimeout(()=>{o.value=!0},a)}return B(t,_t,i,{passive:!0}),o}export{F as P,Rt as _,Mt as a,Dt as b,ct as c,qt as d,jt as e,Vt as f,ut as g,Ht as u};
