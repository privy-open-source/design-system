import{d as E,a3 as Z,N as ee,l as g,o,c as m,a as f,h as A,m as b,M as te,p as d,n as O,F as z,E as G,g as y,w as p,b as C,f as h,r as V,v as ae,a8 as q,I as x,ae as D,af as le,ag as se,a2 as F,R as ie}from"./framework.SPHuL2wz.js";import{_ as oe}from"./Dropdown.vue_vue_type_script_setup_true_lang.CQ708yjQ.js";import{_ as ne}from"./Dropdown.vue_vue_type_style_index_0_lang.CGBIO4n6.js";import{_ as re}from"./DropdownHeader.vue_vue_type_style_index_0_lang.VpYOOyaE.js";import{_ as de}from"./Input.vue_vue_type_script_setup_true_lang.BF6CHEOO.js";/* empty css                                              */import{_ as ue}from"./Text.vue_vue_type_style_index_0_lang.Dtr1i7xx.js";import{I as ce}from"./index.DvWHfs5K.js";import{_ as M}from"./Label.vue_vue_type_script_setup_true_lang.3PTBta72.js";/* empty css                                              */import{I as pe}from"./20.yrgiKqYP.js";import{I as me}from"./20.C9rmOJn2.js";import{I as fe}from"./20.DdDac_Lg.js";import{I as ve}from"./IconCheckbox.DaePqV--.js";import{_ as ye}from"./SpinnerRing.vue_vue_type_script_setup_true_lang.BDrztFIk.js";import{i as B,v as he}from"./value.C5X7htjv.js";import{d as be,u as ge}from"./adapter.4Z9FinvO.js";import{u as Se}from"./use-loading.QLGCNSV_.js";import{c as ke}from"./index.CtS9oPBb.js";import{w as _e}from"./index.B7h_B0kb.js";import{i as $e}from"./isNil.CHIgUVhi.js";import{b as Ce}from"./baseIteratee.CLkZHCNq.js";import{b as Ae}from"./baseUniq.B02YtUOM.js";function Ve(e,l){return e&&e.length?Ae(e,Ce(l)):[]}const xe={key:0,class:"input__prepend"},Be=["disabled","readonly"],Ie={class:"input__form__activator"},Te={key:1,class:"input__append"},ze=E({inheritAttrs:!1,__name:"SelectInput",props:{size:{type:String,default:"md"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:Boolean,default:!1},containerClass:{type:[String,Array,Object],default:void 0}},setup(e){const l=e,u=Z(),a=ee(ce,void 0,!1),v=g(()=>{const n=[];return a!=null&&a.size.value?n.push(`input--${a==null?void 0:a.size.value}`):l.size&&n.push(`input--${l.size}`),l.disabled&&n.push("input--disabled"),l.readonly&&n.push("input--readonly"),l.error&&n.push("input--error","state--error"),u.prepend&&n.push("input--has-prepend"),u.append&&n.push("input--has-append"),n});return(n,S)=>(o(),m("div",{class:O(["input",e.containerClass]),"data-testid":"input-container"},[n.$slots.prepend?(o(),m("span",xe,[f(n.$slots,"prepend")])):A("",!0),S[0]||(S[0]=b("input",{class:"input__hidden",type:"text"},null,-1)),b("div",te({class:["input__form",d(v)],"data-testid":"input",disabled:e.disabled,readonly:e.readonly,tabindex:1},n.$attrs),[b("div",Ie,[f(n.$slots,"default")])],16,Be),n.$slots.append?(o(),m("span",Te,[f(n.$slots,"append")])):A("",!0)],2))}}),Le={class:"select__tags"},we=E({__name:"SelectTags",props:{items:{type:Array,default:()=>[]},displayLimit:{type:Number,default:2},limitText:{type:String,default:"+{n} Other(s)"}},setup(e){const l=e,u=g(()=>l.items.slice(0,l.displayLimit)),a=g(()=>l.limitText.replaceAll("{n}",String(l.items.length-l.displayLimit)));return(v,n)=>(o(),m("div",Le,[(o(!0),m(z,null,G(d(u),(S,k)=>(o(),y(M,{key:k,"data-testid":"select-tag",variant:"light",size:"xs"},{default:p(()=>[C(h(S.text),1)]),_:2},1024))),128)),e.items.length>e.displayLimit?(o(),y(M,{key:0,"data-testid":"select-tag-others",variant:"light",size:"xs"},{default:p(()=>[C(h(d(a)),1)]),_:1})):A("",!0)]))}});function w(e,l){var u;return(u=e.find(a=>B(a.value,l)))!=null?u:{text:"",value:void 0}}function N(e,l){return Array.isArray(l)?e.filter(u=>he(l,u.value)):[]}const Ne=be({setup({props:e,keyword:l}){const u=ge(e);return g(()=>u.value.filter(v=>v.text.toLowerCase().includes(l.value.toLowerCase())))}}),Oe={key:1,"data-testid":"select-placeholder"},Ee={class:"input__form__placeholder"},Pe={key:0,"data-testid":"select-no-data",class:"select__empty"},je={class:"select__option"},Ue={class:"select__option-text"},Re={class:"select__option-checked"},qe={key:2,"data-testid":"select-loading",class:"select__loading"},pt=E({models:{prop:"modelValue",event:"update:modelValue"},__name:"Select",props:{modelValue:{type:void 0,default:void 0},selected:{type:[Object,Array],default:void 0},options:{type:Array,default:()=>[]},placeholder:{type:String,default:"Â "},emptyText:{type:String,default:"No Data"},loadingText:{type:String,default:"Loading..."},searchText:{type:String,default:"Search..."},adapter:{type:Object,default:()=>Ne},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},clearLabel:{type:String,default:"Clear"},size:{type:String,default:"md"},sectionLabel:{type:String,default:void 0},noCaret:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},displayLimit:{type:Number,default:void 0},limitText:{type:String,default:void 0},searchable:{type:Boolean,default:!0},menuSize:{type:String,default:void 0},menuClass:{type:[String,Array,Object],default:void 0},divider:{type:Boolean,default:!1},noAnimation:{type:Boolean,default:!1},noCloseAfterSelect:{type:Boolean,default:!1}},emits:["change","update:modelValue","update:selected","userInput"],setup(e,{expose:l,emit:u}){const a=e,v=u,n=V(),S=V(),k=g(()=>{var t;return(t=n.value)==null?void 0:t.input}),P=g(()=>{var t;return(t=S.value)==null?void 0:t.menuBody}),_=V(""),c=V(!1),I=Se({elapsed:!1}),H={props:a,keyword:_,isOpen:c,isLoading:I,menuEl:P},$=a.adapter.setup(H),s=V(a.multiple?N($.value,a.modelValue):w($.value,a.modelValue)),L=()=>{!a.disabled&&!a.readonly&&(c.value=!c.value)},W=g(()=>{const t=[];return c.value&&t.push("select--open"),a.disabled&&t.push("select--disabled"),a.readonly&&t.push("select--readonly"),a.multiple&&t.push("select--multiple"),t}),J=g(()=>{var t;return a.multiple?Array.isArray(s.value)&&s.value.length>0:!$e((t=s.value)==null?void 0:t.value)}),j=_e(()=>a.modelValue,t=>{s.value=a.multiple?N($.value,t):w($.value,t)});ae($,t=>{if(a.modelValue&&t.length>0){const i=a.multiple?N(t,a.modelValue):w(t,a.modelValue);s.value=a.multiple?Ve([...s.value,...i],"value"):i.value===void 0?s.value:i}});function U(t){let i=a.multiple?[]:{text:"",value:void 0};a.multiple&&t&&Array.isArray(s.value)&&(i=s.value.some(r=>B(r.value,t.value))?s.value.filter(r=>!B(r.value,t.value)):[...s.value,t]),!a.multiple&&t&&(i=t),j.pause(),s.value=i,v("change",i),v("update:selected",i),v("update:modelValue",a.multiple?i.map(r=>r.value):i==null?void 0:i.value),c.value&&v("userInput",i),a.noCloseAfterSelect||(c.value=!1),ie(()=>{j.resume()})}function K(){!a.disabled&&!a.readonly&&(c.value=!0)}function Q(){U()}function R(t){return a.multiple&&s.value.length===0||!a.multiple&&s.value.value===void 0?!1:a.multiple&&Array.isArray(s.value)?s.value.some(i=>B(t.value,i.value)):B(t.value,s.value.value)}function X(){var t;(t=k.value)==null||t.focus()}function Y(){_.value=""}return ke(()=>{c.value&&k.value&&k.value!==document.activeElement&&(k.value.select(),k.value.focus())}),l({keyword:_,isOpen:c,isLoading:I,menuEl:P,toggle:L}),(t,i)=>(o(),y(oe,{ref_key:"dropdown",ref:S,modelValue:d(c),"onUpdate:modelValue":i[1]||(i[1]=r=>q(c)?c.value=r:null),class:O(["select",d(W)]),"data-testid":"select","aria-label":"select",disabled:e.disabled,divider:e.divider,"menu-size":e.menuSize,"menu-class":e.menuClass,"no-animation":e.noAnimation,onShow:X,onHide:Y},{activator:p(r=>[f(t.$slots,"activator",le(se(r)),()=>[x(ze,{"data-testid":"select-activator",class:"select__activator",size:e.size,placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,error:e.error,onFocus:K},D({default:p(()=>[d(J)?f(t.$slots,"selected",{key:0,item:d(s),multiple:e.multiple},()=>{var T;return[a.multiple&&Array.isArray(d(s))?(o(),y(we,{key:0,items:d(s),"display-limit":e.displayLimit,"limit-text":e.limitText},null,8,["items","display-limit","limit-text"])):(o(),m(z,{key:1},[C(h((T=d(s))==null?void 0:T.text),1)],64))]}):(o(),m("div",Oe,[f(t.$slots,"placeholder",{},()=>[b("span",Ee,h(e.placeholder),1)])]))]),_:2},[e.noCaret?void 0:{name:"append",fn:p(()=>[f(t.$slots,"caret",{isOpen:d(c),toggle:L},()=>[x(pe,{class:"select__caret","data-testid":"select-caret-icon",onClick:L})])]),key:"0"}]),1032,["size","placeholder","disabled","readonly","error"])])]),prepend:p(()=>[e.searchable?(o(),y(de,{key:0,ref_key:"input",ref:n,modelValue:d(_),"onUpdate:modelValue":i[0]||(i[0]=r=>q(_)?_.value=r:null),"data-testid":"select-search",class:"select__search no--error",placeholder:e.searchText,clearable:!0},{append:p(()=>[x(fe,{class:"select__search-icon"})]),_:1},8,["modelValue","placeholder"])):A("",!0)]),default:p(()=>[!d(I)&&d($).length===0?(o(),m("div",Pe,[f(t.$slots,"empty",{keyword:d(_)},()=>[C(h(e.emptyText),1)])])):(o(),m(z,{key:1},[e.sectionLabel||e.clearable?(o(),y(re,{key:0,"data-testid":"select-label"},D({default:p(()=>[C(h(e.sectionLabel),1)]),_:2},[e.clearable?{name:"action",fn:p(()=>[x(ue,{"data-testid":"select-clear",variant:"caption2",href:"javascript:void",onClick:F(Q,["prevent"])},{default:p(()=>[C(h(e.clearLabel),1)]),_:1})]),key:"0"}:void 0]),1024)):A("",!0),(o(!0),m(z,null,G(d($),(r,T)=>(o(),y(ne,{key:T,"data-testid":"select-item",class:O({selected:R(r)}),disabled:!!r.disabled,onClick:F(De=>U(r),["prevent"])},{default:p(()=>[b("div",je,[b("div",Ue,[f(t.$slots,"option",{isSelected:R(r),item:r},()=>[C(h(r.text),1)])]),b("div",Re,[e.multiple?(o(),y(ve,{key:0})):(o(),y(me,{key:1}))])])]),_:2},1032,["class","disabled","onClick"]))),128))],64)),d(I)?(o(),m("div",qe,[x(ye),f(t.$slots,"loading",{},()=>[b("span",null,h(e.loadingText),1)])])):A("",!0)]),_:3},8,["modelValue","disabled","divider","menu-size","menu-class","class","no-animation"]))}});export{pt as _};
