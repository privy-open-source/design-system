import{i as I,g as O,j as L,k as B}from"./index.C6_LL6lH.js";import{d as W,p as H,q as M,u as V}from"./index.CydGP8Vq.js";import{I as D,y as x,p as n,P as S,r as d,a7 as j,l as P,z as R,_ as A,o as E,c as T,m as b,d as q,K as c,w as g,f as y,aa as X,a as N,b as w}from"./framework.BjhmxGx1.js";import{f as J}from"./focus.DWrlVhv-.js";import{u as k}from"./index.BONkLgP_.js";import{d as K}from"./debounce.CE-8mXQa.js";import{r as U}from"./baseGetTag.Cu32HCTk.js";import{t as Z}from"./toInteger.NZnbAWM7.js";import{t as G}from"./toNumber.Dcxq_36h.js";import{t as z}from"./toString.CQAYsbsy.js";import{n as p}from"./noop.DX6rZLP_.js";import{I as Q,a as Y}from"./20.mWHpD-uY.js";import{I as tt}from"./20.Uozo7NRP.js";import{_}from"./Button.vue_vue_type_script_setup_true_lang.BnFchjFq.js";/* empty css                                               */import{_ as et}from"./Divider.vue_vue_type_script_setup_true_lang.DCkUVtZ2.js";/* empty css                                                */import{_ as ot}from"./Select.vue_vue_type_style_index_0_lang.LLAGABJf.js";var at=U.isFinite,it=Math.min;function st(t){var a=Math[t];return function(o,e){if(o=G(o),e=e==null?0:it(Z(e),292),e&&at(o)){var i=(z(o)+"e").split("e"),l=a(i[0]+"e"+(+i[1]+e));return i=(z(l)+"e").split("e"),+(i[0]+"e"+(+i[1]-e))}return a(o)}}var nt=st("round");function lt(t,a=document.body,o=!1){const e=D();function i(){var l,u;e.value=o?(l=n(a))==null?void 0:l.querySelectorAll(n(t)):(u=n(a))==null?void 0:u.querySelector(n(t))}return x(()=>n(t),()=>{i()}),I(a,l=>{l.some(u=>u.type==="childList")&&i()},{childList:!0,subtree:!0}),W(()=>{i()}),e}const F=Symbol("PDFObjects"),Vt=Symbol("PDFObjects");function rt(t){var f,h,m,r;const a=P(()=>nt(t.width/t.height,2)),o=d((f=t.minWidth)!=null?f:t.width*.5),e=d((h=t.maxWidth)!=null?h:t.width*2),i=d((m=t.minHeight)!=null?m:t.height*.5),l=d((r=t.maxHeight)!=null?r:t.height*2),u=k(t.width,o,e),v=k(t.height,i,l);return x(()=>t.minWidth,s=>{Number.isFinite(s)&&(o.value=s)}),x(()=>t.minHeight,s=>{Number.isFinite(s)&&(i.value=s)}),x(()=>t.maxWidth,s=>{Number.isFinite(s)&&(e.value=s)}),x(()=>t.maxHeight,s=>{Number.isFinite(s)&&(l.value=s)}),{ratio:a,width:u,height:v,minWidth:o,maxWidth:e,minHeight:i,maxHeight:l}}function Dt(t){var $;const{objects:a,page:o}=S(F),e=d(($=t.page)!=null?$:o.value),i=d(t.x),l=d(t.y),u=Symbol("PDFObject"),{width:v,height:f,minWidth:h,maxWidth:m,minHeight:r,maxHeight:s,ratio:C}=rt(t);return a.set(u,j({id:u,page:e,x:i,y:l,width:v,height:f})),H(()=>{Number.isFinite(e.value)||V(o).toBeTruthy().then(()=>{e.value=o.value})}),M(()=>{a.delete(u)}),{id:u,x:i,y:l,page:e,width:v,height:f,minWidth:h,minHeight:r,maxWidth:m,maxHeight:s,ratio:C}}function jt(t){const{root:a}=S(F),o=P(()=>`.page[data-page-number="${n(t)}"]`);return lt(o,a)}const Rt=K(J,100),ut=Symbol("PdfViewer");function ct(){return S(ut,()=>{const t=d(1),a=d(1),o=d(0);return{page:t,scale:a,totalPage:o,zoomIn:p,zoomOut:p,next:p,prev:p,first:p,last:p}},!0)}function At(t,a={}){const o=d(!1),e=P(()=>{var r;return(r=n(a.offsetTop))!=null?r:0}),i=P(()=>{var r;return(r=n(t))==null?void 0:r.parentElement}),{top:l,height:u}=O(i),{top:v,width:f,left:h}=O(t),{height:m}=L();return R(r=>{o.value&&t.value&&(l.value-e.value>=0?(t.value.style.setProperty("height",`${m.value-v.value}px`),t.value.style.setProperty("width","100%")):(i.value.style.setProperty("min-height",`${u.value}px`),t.value.style.setProperty("position","fixed"),t.value.style.setProperty("top",`${e.value}px`),t.value.style.setProperty("left",`${h.value}px`),t.value.style.setProperty("width",`${f.value}px`),t.value.style.setProperty("height",`${m.value-e.value}px`)),r(()=>{i.value.style.removeProperty("min-height"),t.value.style.removeProperty("position"),t.value.style.removeProperty("top"),t.value.style.removeProperty("left"),t.value.style.removeProperty("width"),t.value.style.removeProperty("height")}))}),o}const dt={},ft={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",class:"persona-icon",viewBox:"0 0 20 20"},mt=b("path",{fill:"currentColor","fill-rule":"evenodd",d:"M9.558 6.598a.625.625 0 0 1 .884 0l4.44 4.44a.625.625 0 1 1-.884.884L10 7.924l-3.998 3.998a.625.625 0 1 1-.884-.884z","clip-rule":"evenodd"},null,-1),vt=[mt];function ht(t,a){return E(),T("svg",ft,vt)}const gt=A(dt,[["render",ht]]),pt={"data-testid":"pdf-navigation",class:"pdf__navigation"},_t={class:"pdf__navigation-container"},yt={class:"pdf__navigation-scale"},xt={"data-testid":"pdf-total",class:"pdf__navigation-total"},qt=q({__name:"PdfNavigation",props:{firstNavLabel:{type:String,default:"First"},lastNavLabel:{type:String,default:"Last"},numOfPagesNavLabel:{type:String,default:"of"}},setup(t){const{page:a,scale:o,totalPage:e,zoomIn:i,zoomOut:l,next:u,prev:v,first:f,last:h}=ct(),m=P(()=>Array.from({length:e.value}).map((r,s)=>({text:`${s+1}`,value:s+1})));return(r,s)=>(E(),T("div",pt,[b("div",_t,[c(_,{"data-testid":"pdf-zoom-out",variant:"ghost",size:"xs",icon:"",onClick:n(l)},{default:g(()=>[c(Q)]),_:1},8,["onClick"]),b("span",yt,y((n(o)*100).toFixed(0))+"% ",1),c(_,{"data-testid":"pdf-zoom-in",variant:"ghost",size:"xs",icon:"",onClick:n(i)},{default:g(()=>[c(Y)]),_:1},8,["onClick"]),c(et,{vertical:""}),c(ot,{modelValue:n(a),"onUpdate:modelValue":s[0]||(s[0]=C=>X(a)?a.value=C:null),options:n(m),size:"xs"},null,8,["modelValue","options"]),b("span",xt,[N(r.$slots,"num-of-pages-navigation",{},()=>[w(y(t.numOfPagesNavLabel),1)]),w(" "+y(n(e)),1)]),c(_,{"data-testid":"pdf-start",variant:"ghost",size:"xs",icon:"",onClick:n(f)},{default:g(()=>[N(r.$slots,"first-navigation",{},()=>[w(y(t.firstNavLabel),1)])]),_:3},8,["onClick"]),c(_,{"data-testid":"pdf-prev",variant:"ghost",size:"xs",icon:"",onClick:n(v)},{default:g(()=>[c(gt)]),_:1},8,["onClick"]),c(_,{"data-testid":"pdf-next",variant:"ghost",size:"xs",icon:"",onClick:n(u)},{default:g(()=>[c(tt)]),_:1},8,["onClick"]),c(_,{"data-testid":"pdf-end",variant:"ghost",size:"xs",icon:"",onClick:n(h)},{default:g(()=>[N(r.$slots,"last-navigation",{},()=>[w(y(t.lastNavLabel),1)])]),_:3},8,["onClick"])])]))}}),Pt=["mousemove","mousedown","touchstart","keydown","scroll"];function Xt(t,a=5e3){const o=d(!1);let e;function i(){o.value=!1,e&&clearTimeout(e),e=setTimeout(()=>{o.value=!0},a)}return B(t,Pt,i,{passive:!0}),o}export{F as P,qt as _,jt as a,Vt as b,ct as c,Xt as d,At as e,Rt as f,ut as g,Dt as u};
