var P=Object.defineProperty;var k=(n,t)=>(t=Symbol[n])?t:Symbol.for("Symbol."+n);var H=(n,t,e)=>t in n?P(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var s=(n,t,e)=>H(n,typeof t!="symbol"?t+"":t,e);var I=function(n,t){this[0]=n,this[1]=t},R=(n,t,e)=>{var r=(a,l,h,f)=>{try{var E=e[a](l),y=(l=E.value)instanceof I,N=E.done;Promise.resolve(y?l[0]:l).then(u=>y?r(a==="return"?a:"next",l[1]?{done:u.done,value:u.value}:u,h,f):h({value:u,done:N})).catch(u=>r("throw",u,h,f))}catch(u){f(u)}},i=a=>o[a]=l=>new Promise((h,f)=>r(a,l,h,f)),o={};return e=e.apply(n,t),o[k("asyncIterator")]=()=>o,i("next"),i("throw"),i("return"),o};import{c as d,a as D,r as U,n as c,m as _}from"./utils.CaI_woCu.js";const F=["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PRI","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],q={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a Teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},B=16384,j=Object.freeze(Object.defineProperty({__proto__:null,METHODS:F,STATUS_CODES:q,maxHeaderSize:B},Symbol.toStringTag,{value:"Module"}));let L=10,C=class{constructor(){s(this,"__unenv__",!0);s(this,"_events",Object.create(null));s(this,"_maxListeners")}static get defaultMaxListeners(){return L}static set defaultMaxListeners(t){if(typeof t!="number"||t<0||Number.isNaN(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");L=t}setMaxListeners(t){if(typeof t!="number"||t<0||Number.isNaN(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this}getMaxListeners(){return S(this)}emit(t,...e){if(!this._events[t]||this._events[t].length===0)return!1;if(t==="error"){let r;if(e.length>0&&(r=e[0]),r instanceof Error)throw r;const i=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw i.context=r,i}for(const r of this._events[t])(r.listener||r).apply(this,e);return!0}addListener(t,e){return p(this,t,e,!1)}on(t,e){return p(this,t,e,!1)}prependListener(t,e){return p(this,t,e,!0)}once(t,e){return this.on(t,g(this,t,e))}prependOnceListener(t,e){return this.prependListener(t,g(this,t,e))}removeListener(t,e){return K(this,t,e)}off(t,e){return this.removeListener(t,e)}removeAllListeners(t){return V(this,t)}listeners(t){return M(this,t,!0)}rawListeners(t){return M(this,t,!1)}listenerCount(t){return this.rawListeners(t).length}eventNames(){return Object.keys(this._events)}};function p(n,t,e,r){var o;A(e),n._events.newListener!==void 0&&n.emit("newListener",t,e.listener||e),n._events[t]||(n._events[t]=[]),r?n._events[t].unshift(e):n._events[t].push(e);const i=S(n);if(i>0&&n._events[t].length>i&&!n._events[t].warned){n._events[t].warned=!0;const a=new Error(`[unenv] Possible EventEmitter memory leak detected. ${n._events[t].length} ${t} listeners added. Use emitter.setMaxListeners() to increase limit`);a.name="MaxListenersExceededWarning",a.emitter=n,a.type=t,a.count=(o=n._events[t])==null?void 0:o.length,console.warn(a)}return n}function K(n,t,e){if(A(e),!n._events[t]||n._events[t].length===0)return n;const r=n._events[t].length;return n._events[t]=n._events[t].filter(i=>i!==e),r===n._events[t].length||(n._events.removeListener&&n.emit("removeListener",t,e.listener||e),n._events[t].length===0&&delete n._events[t]),n}function V(n,t){if(!n._events[t]||n._events[t].length===0)return n;if(n._events.removeListener)for(const e of n._events[t])n.emit("removeListener",t,e.listener||e);return delete n._events[t],n}function g(n,t,e){let r=!1;const i=(...o)=>{if(!r)return n.removeListener(t,i),r=!0,o.length===0?e.call(n):e.apply(n,o)};return i.listener=e,i}function S(n){var t;return(t=n._maxListeners)!=null?t:C.defaultMaxListeners}function M(n,t,e){let r=n._events[t];return typeof r=="function"&&(r=[r]),e?r.map(i=>i.listener||i):r}function A(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}const O=globalThis.EventEmitter||C;class b extends O{constructor(e){super();s(this,"__unenv__",!0);s(this,"readableEncoding",null);s(this,"readableEnded",!0);s(this,"readableFlowing",!1);s(this,"readableHighWaterMark",0);s(this,"readableLength",0);s(this,"readableObjectMode",!1);s(this,"readableAborted",!1);s(this,"readableDidRead",!1);s(this,"closed",!1);s(this,"errored",null);s(this,"readable",!1);s(this,"destroyed",!1)}static from(e,r){return new b(r)}_read(e){}read(e){}setEncoding(e){return this}pause(){return this}resume(){return this}isPaused(){return!0}unpipe(e){return this}unshift(e,r){}wrap(e){return this}push(e,r){return!1}_destroy(e,r){this.removeAllListeners()}destroy(e){return this.destroyed=!0,this._destroy(e),this}pipe(e,r){return{}}compose(e,r){throw new Error("[unenv] Method not implemented.")}[Symbol.asyncDispose](){return this.destroy(),Promise.resolve()}[Symbol.asyncIterator](){return R(this,null,function*(){throw d("Readable.asyncIterator")})}iterator(e){throw d("Readable.iterator")}map(e,r){throw d("Readable.map")}filter(e,r){throw d("Readable.filter")}forEach(e,r){throw d("Readable.forEach")}reduce(e,r,i){throw d("Readable.reduce")}find(e,r){throw d("Readable.find")}findIndex(e,r){throw d("Readable.findIndex")}some(e,r){throw d("Readable.some")}toArray(e){throw d("Readable.toArray")}every(e,r){throw d("Readable.every")}flatMap(e,r){throw d("Readable.flatMap")}drop(e,r){throw d("Readable.drop")}take(e,r){throw d("Readable.take")}asIndexedPairs(e){throw d("Readable.asIndexedPairs")}}const v=globalThis.Readable||b;class G extends O{constructor(e){super();s(this,"__unenv__",!0);s(this,"writable",!0);s(this,"writableEnded",!1);s(this,"writableFinished",!1);s(this,"writableHighWaterMark",0);s(this,"writableLength",0);s(this,"writableObjectMode",!1);s(this,"writableCorked",0);s(this,"closed",!1);s(this,"errored",null);s(this,"writableNeedDrain",!1);s(this,"destroyed",!1);s(this,"_data");s(this,"_encoding","utf-8")}pipe(e,r){return{}}_write(e,r,i){if(this.writableEnded){i&&i();return}if(this._data===void 0)this._data=e;else{const o=typeof this._data=="string"?Buffer.from(this._data,this._encoding||r||"utf8"):this._data,a=typeof e=="string"?Buffer.from(e,r||this._encoding||"utf8"):e;this._data=Buffer.concat([o,a])}this._encoding=r,i&&i()}_writev(e,r){}_destroy(e,r){}_final(e){}write(e,r,i){const o=typeof r=="string"?this._encoding:"utf-8",a=typeof r=="function"?r:typeof i=="function"?i:void 0;return this._write(e,o,a),!0}setDefaultEncoding(e){return this}end(e,r,i){const o=typeof e=="function"?e:typeof r=="function"?r:typeof i=="function"?i:void 0;if(this.writableEnded)return o&&o(),this;const a=e===o?void 0:e;if(a){const l=r===o?void 0:r;this.write(a,l,o)}return this.writableEnded=!0,this.writableFinished=!0,this.emit("close"),this.emit("finish"),this}cork(){}uncork(){}destroy(e){return this.destroyed=!0,delete this._data,this.removeAllListeners(),this}compose(e,r){throw new Error("[h3] Method not implemented.")}}const w=globalThis.Writable||G,m=class{constructor(n=new v,t=new w){s(this,"allowHalfOpen",!0);s(this,"_destroy");Object.assign(this,n),Object.assign(this,t),this._destroy=D(n._destroy,t._destroy)}};function W(){return Object.assign(m.prototype,v.prototype),Object.assign(m.prototype,w.prototype),m}const z=W(),Y=globalThis.Duplex||z;class $ extends Y{constructor(e){super();s(this,"__unenv__",!0);s(this,"bufferSize",0);s(this,"bytesRead",0);s(this,"bytesWritten",0);s(this,"connecting",!1);s(this,"destroyed",!1);s(this,"pending",!1);s(this,"localAddress","");s(this,"localPort",0);s(this,"remoteAddress","");s(this,"remoteFamily","");s(this,"remotePort",0);s(this,"autoSelectFamilyAttemptedAddresses",[]);s(this,"readyState","readOnly")}write(e,r,i){return!1}connect(e,r,i){return this}end(e,r,i){return this}setEncoding(e){return this}pause(){return this}resume(){return this}setTimeout(e,r){return this}setNoDelay(e){return this}setKeepAlive(e,r){return this}address(){return{}}unref(){return this}ref(){return this}destroySoon(){this.destroy()}resetAndDestroy(){const e=new Error("ERR_SOCKET_CLOSED");return e.code="ERR_SOCKET_CLOSED",this.destroy(e),this}}class J extends v{constructor(e){super();s(this,"__unenv__",{});s(this,"aborted",!1);s(this,"httpVersion","1.1");s(this,"httpVersionMajor",1);s(this,"httpVersionMinor",1);s(this,"complete",!0);s(this,"connection");s(this,"socket");s(this,"headers",{});s(this,"trailers",{});s(this,"method","GET");s(this,"url","/");s(this,"statusCode",200);s(this,"statusMessage","");s(this,"closed",!1);s(this,"errored",null);s(this,"readable",!1);this.socket=this.connection=e||new $}get rawHeaders(){return U(this.headers)}get rawTrailers(){return[]}setTimeout(e,r){return this}get headersDistinct(){return T(this.headers)}get trailersDistinct(){return T(this.trailers)}}function T(n){const t={};for(const[e,r]of Object.entries(n))e&&(t[e]=(Array.isArray(r)?r:[r]).filter(Boolean));return t}class Q extends w{constructor(e){super();s(this,"__unenv__",!0);s(this,"statusCode",200);s(this,"statusMessage","");s(this,"upgrading",!1);s(this,"chunkedEncoding",!1);s(this,"shouldKeepAlive",!1);s(this,"useChunkedEncodingByDefault",!1);s(this,"sendDate",!1);s(this,"finished",!1);s(this,"headersSent",!1);s(this,"strictContentLength",!1);s(this,"connection",null);s(this,"socket",null);s(this,"req");s(this,"_headers",{});this.req=e}assignSocket(e){e._httpMessage=this,this.socket=e,this.connection=e,this.emit("socket",e),this._flush()}_flush(){this.flushHeaders()}detachSocket(e){}writeContinue(e){}writeHead(e,r,i){e&&(this.statusCode=e),typeof r=="string"&&(this.statusMessage=r,r=void 0);const o=i||r;if(o&&!Array.isArray(o))for(const a in o)this.setHeader(a,o[a]);return this.headersSent=!0,this}writeProcessing(){}setTimeout(e,r){return this}appendHeader(e,r){e=e.toLowerCase();const i=this._headers[e],o=[...Array.isArray(i)?i:[i],...Array.isArray(r)?r:[r]].filter(Boolean);return this._headers[e]=o.length>1?o:o[0],this}setHeader(e,r){return this._headers[e.toLowerCase()]=r,this}getHeader(e){return this._headers[e.toLowerCase()]}getHeaders(){return this._headers}getHeaderNames(){return Object.keys(this._headers)}hasHeader(e){return e.toLowerCase()in this._headers}removeHeader(e){delete this._headers[e.toLowerCase()]}addTrailers(e){}flushHeaders(){}writeEarlyHints(e,r){typeof r=="function"&&r()}}const X=c("http.createServer"),Z=c("http.request"),ee=c("http.get"),te=_.__createMock__("http.Server"),re=_.__createMock__("http.OutgoingMessage"),se=_.__createMock__("http.ClientRequest"),x=_.__createMock__("http.Agent"),ne=new x,ie=c("http.validateHeaderName"),oe=c("http.validateHeaderValue"),ae=c("http.setMaxIdleHTTPParsers"),ce={...j,IncomingMessage:J,ServerResponse:Q,createServer:X,request:Z,get:ee,Server:te,OutgoingMessage:re,ClientRequest:se,Agent:x,globalAgent:ne,validateHeaderName:ie,validateHeaderValue:oe,setMaxIdleHTTPParsers:ae};export{x as Agent,se as ClientRequest,J as IncomingMessage,F as METHODS,re as OutgoingMessage,q as STATUS_CODES,te as Server,Q as ServerResponse,X as createServer,ce as default,ee as get,ne as globalAgent,B as maxHeaderSize,Z as request,ae as setMaxIdleHTTPParsers,ie as validateHeaderName,oe as validateHeaderValue};
