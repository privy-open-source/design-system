import{_ as H,o as d,c as k,j as $,d as M,a1 as P,L as q,p as b,h as C,D as G,q as j,X as F,b as h,w as g,k as r,a0 as A,r as v,G as z,e as S,a as I,t as L,H as J,T as K,a6 as Q,s as Y,n as V,an as Z,ao as ee}from"./framework.CI6Dj8yt.js";import{d as te,o as x}from"./index.CKr6bVGM.js";import{_ as ne}from"./Button.vue_vue_type_script_setup_true_lang.DOHgQt4I.js";/* empty css                                               */import{_ as E,D as oe}from"./Dropdown.vue_vue_type_style_index_0_lang.DNpByd8n.js";import{u as ae}from"./use-focus.3sjawyk-.js";import{a as se,c as le,f as de,s as re,o as ie,h as ue}from"./floating-ui.dom.D8eMPWlJ.js";import{u as ce}from"./index.wZ2oc0_6.js";import{I as fe}from"./20.4Lp1Y2VN.js";const pe={},me={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",class:"persona-icon",viewBox:"0 0 16 16"};function ve(t,u){return d(),k("svg",me,u[0]||(u[0]=[$("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6.347 3.746a.5.5 0 0 1 .707 0l3.9 3.9a.5.5 0 0 1 0 .707l-3.9 3.9a.5.5 0 0 1-.707-.707L9.893 8 6.347 4.453a.5.5 0 0 1 0-.707","clip-rule":"evenodd"},null,-1)]))}const _e=H(pe,[["render",ve]]),we={},ye={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",class:"persona-icon",viewBox:"0 0 16 16"};function be(t,u){return d(),k("svg",ye,u[0]||(u[0]=[$("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.703 12.904a.5.5 0 0 1-.707 0l-4.55-4.55a.5.5 0 0 1 0-.707l4.55-4.55a.5.5 0 1 1 .707.707L4.007 7.5H13.2a.5.5 0 0 1 0 1H4.007l3.696 3.696a.5.5 0 0 1 0 .707","clip-rule":"evenodd"},null,-1)]))}const he=H(we,[["render",be]]),R=Symbol("DropdownTree"),ke={class:"dropdown__subitem__content"},ge=M({__name:"DropdownSubitem",props:{text:{type:String,default:""},noCaret:{type:Boolean,default:!1}},emits:["click"],setup(t,{expose:u,emit:i}){var y;const _=P(),f=i,o=q(R,void 0,!0),w=b("slide-left"),p=C(()=>o===void 0),a=(y=o==null?void 0:o.tree)!=null?y:G({_level:0,slots:_}),n=()=>{a.value={_level:a.value._level+1,prev:a.value,slots:_}},m=()=>{a.value.prev&&(a.value=a.value.prev)},B=C(()=>a.value.slots.default),D=C(()=>!!(p.value&&a.value.prev));j(a,(l,s)=>{w.value=l._level>s._level?"slide-left":"slide-right"}),p.value&&F(R,{tree:a,next:n,back:m});function O(){p.value&&(a.value={prev:void 0,_level:0,slots:_})}function N(){const l=new MouseEvent("click");f("click",l),l.defaultPrevented||n()}return u({reset:O,next:n,back:m}),(l,s)=>(d(),h(K,{name:r(w),mode:"out-in"},{default:g(()=>[(d(),k("div",{key:r(a)._level,"data-testid":"dropdown-subitem",class:"dropdown__subitem"},[r(D)?(d(),h(E,{key:"btn-back","data-testid":"dropdown-back",class:"dropdown__subitem__btn dropdown__subitem__btn--back",onClick:s[0]||(s[0]=A(e=>m(),["prevent"]))},{default:g(()=>[v(l.$slots,"button-back",{},()=>[z(he,{class:"dropdown__subitem__next"}),s[1]||(s[1]=$("div",{class:"dropdown__group-content"},null,-1))])]),_:3})):S("",!0),r(p)?(d(),h(J(r(B)),{key:2})):(d(),h(E,{key:"btn-next",class:"dropdown__subitem__btn",onClick:A(N,["prevent"])},{default:g(()=>[$("div",ke,[v(l.$slots,"button-content",{next:n,back:m},()=>[I(L(t.text),1)])]),t.noCaret?S("",!0):(d(),h(_e,{key:0,"data-testid":"dropdown-subitem-next",class:"dropdown__subitem__next"}))]),_:3}))]))]),_:3},8,["name"]))}}),$e={key:0,class:"drowdown__menu__prepend"},Ce={key:1,class:"drowdown__menu__append"},Ae=M({models:{prop:"modelValue",event:"update:modelValue"},__name:"Dropdown",props:{modelValue:{type:Boolean,default:!1},text:{type:String,default:""},placement:{type:String,default:"bottom-start"},variant:{type:String,default:"solid"},color:{type:String,default:"default"},size:{type:String,default:"md"},icon:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},noCaret:{type:Boolean,default:!1},divider:{type:Boolean,default:!1},menuClass:{type:[String,Array,Object],default:void 0},buttonClass:{type:[String,Array,Object],default:void 0},menuSize:{type:String,default:"sm"},noAnimation:{type:Boolean,default:!1}},emits:["show","hide","update:modelValue"],setup(t,{expose:u}){const i=t,_=P(),f=b(),o=b(),w=b(),p=b(),a=Q(i,"placement"),n=ce(i),m=b(!1),{next:B,prev:D}=ae(w),O=C(()=>{const e=[""];return i.divider&&e.push("dropdown--divider"),i.menuSize&&e.push(`dropdown--menu-${i.menuSize}`),e}),N=C(()=>{const e=[""];return _.prepend&&e.push("dropdown__menu--has-prepend"),_.append&&e.push("dropdown__menu--has-append"),e});function y(){i.disabled||(n.value?s():l())}function l(){i.disabled||(n.value=!0)}function s(){i.disabled||(n.value=!1)}return te(o,()=>{n.value&&setTimeout(()=>{s()})},{ignore:[f]}),x("Escape",e=>{const c=e.target;n.value&&(s(),typeof c.blur=="function"&&c.blur())}),x(["ArrowUp"],e=>{n.value&&(e.preventDefault(),D())}),x(["ArrowDown"],e=>{n.value&&(e.preventDefault(),B())}),x(["Tab"],e=>{n.value&&(e.preventDefault(),e.shiftKey?D():B())}),Y(e=>{if(f.value&&o.value){const c=se(f.value,o.value,()=>{le(f.value,o.value,{strategy:"absolute",placement:a.value,middleware:[de(),re(),ie(8),ue()]}).then(({x:T,y:U,placement:W,middlewareData:X})=>{o.value&&(o.value.dataset.popperPlacement=W,o.value.style.left=`${T||0}px`,o.value.style.top=`${U||0}px`,m.value=X.hide.referenceHidden)})},{animationFrame:!0});e(c)}},{flush:"post"}),j(n,e=>{!e&&p.value&&p.value.reset()},{immediate:!0}),F(oe,{isOpen:n,toggle:y,open:l,close:s}),u({menuBody:w,menu:o,root:f,open:l,close:s}),(e,c)=>(d(),k("div",{ref_key:"root",ref:f,class:V(["dropdown",[{"dropdown--open":r(n),"dropdown--no-caret":t.noCaret},r(O)]]),"data-testid":"dropdown"},[v(e.$slots,"activator",{toggle:y,open:l,close:s,isOpen:r(n)},()=>[z(ne,{"data-testid":"dropdown-activator",class:V(["dropdown__activator",t.buttonClass]),variant:t.variant,color:t.color,size:t.size,icon:t.icon,pill:t.pill,disabled:t.disabled,onClick:A(y,["prevent"])},{default:g(()=>[v(e.$slots,"button-content",{},()=>[I(L(t.text),1)]),t.noCaret?S("",!0):(d(),h(fe,{key:0,class:"dropdown__caret","data-testid":"dropdown-caret"}))]),_:3},8,["class","variant","color","size","icon","pill","disabled"])]),z(K,{name:"fade",css:!t.noAnimation,onAfterEnter:c[0]||(c[0]=T=>e.$emit("show")),onAfterLeave:c[1]||(c[1]=T=>e.$emit("hide"))},{default:g(()=>[Z($("div",{ref_key:"menu",ref:o,"data-testid":"dropdown-menu",class:V(["dropdown__menu",[t.menuClass,r(N)]])},[e.$slots.prepend?(d(),k("div",$e,[v(e.$slots,"prepend")])):S("",!0),$("div",{ref_key:"menuBody",ref:w,class:"dropdown__menu__body"},[z(ge,{ref_key:"wizard",ref:p,class:"dropdown__menu__container"},{default:g(()=>[v(e.$slots,"default")]),_:3},512)],512),e.$slots.append?(d(),k("div",Ce,[v(e.$slots,"append")])):S("",!0)],2),[[ee,r(n)&&!r(m)]])]),_:3},8,["css"])],2))}});export{Ae as _,ge as a};
