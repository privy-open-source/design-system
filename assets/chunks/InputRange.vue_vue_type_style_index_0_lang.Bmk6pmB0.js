const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/interact.min.BKitjnf_.js","assets/chunks/commonjsHelpers.BosuxZz1.js"])))=>i.map(i=>d[i]);
import{D as K,q as P,$ as Q,V as W,d as Y,p as m,a6 as k,h as l,o as Z,c as ee,j as i,an as E,ao as x,N as D,k as V,n as ae}from"./framework.CI6Dj8yt.js";import{g as te}from"./index.CKr6bVGM.js";import{u as R}from"./index.DDyPugY2.js";import{t as ue}from"./throttle.CdTQLZho.js";import{c as w,s as T}from"./index.C4QC3-vE.js";function I(d,g){const e=K();P(d,async n=>{if(e.value&&e.value.unset(),n){const{default:p}=await W(async()=>{const{default:v}=await import("./interact.min.BKitjnf_.js").then(t=>t.i);return{default:v}},__vite__mapDeps([0,1])),f=ue(g,1e3/120);e.value=p(n).styleCursor(!1).draggable({onmove:f})}}),Q(async()=>{e.value&&e.value.unset()})}const de=Y({__name:"InputRange",props:{modelValue:{type:[Number,Array],default:void 0},start:{type:Number,default:void 0},end:{type:Number,default:void 0},step:{type:[String,Number],default:1},min:{type:[String,Number],default:0},max:{type:[String,Number],default:100},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:Boolean,default:!1}},emits:["change","update:modelValue","update:end","update:start"],setup(d,{emit:g}){var S,A,N;const e=d,n=g,p=m(),f=m(),v=m(),t=w(k(e,"min")),r=w(k(e,"max")),y=w(k(e,"step")),_=m(Array.isArray(e.modelValue)?e.modelValue[0]:(S=e.start)!=null?S:t.value),h=m(Array.isArray(e.modelValue)?e.modelValue[1]:(N=(A=e.end)!=null?A:e.modelValue)!=null?N:r.value),M=l(()=>e.multiple?_.value+y.value:t.value),$=l(()=>e.multiple?h.value-y.value:r.value),s=R(_.value,t,$),o=R(h.value,M,r),{width:z,left:L}=te(p),U=l({get(){var a;return Array.isArray(e.modelValue)?e.modelValue[0]:(a=e.start)!=null?a:t.value},set(a){n("update:start",a)}}),j=l({get(){var a;return Array.isArray(e.modelValue)?e.modelValue[1]:Number.isFinite(e.modelValue)?e.modelValue:(a=e.end)!=null?a:r.value},set(a){n("update:end",a)}}),C=l(()=>(s.value-t.value)/(r.value-t.value)*100),q=l(()=>(o.value-t.value)/(r.value-t.value)*100),F=l(()=>{const a=[];return e.disabled&&a.push("input-range--disabled"),e.readonly&&a.push("input-range--readonly"),e.error&&a.push("input-range--error","state--error"),a}),O=l(()=>({width:`${C.value}%`})),X=l(()=>({width:`${q.value-C.value}%`}));function c(a){const b=(a.pageX-L.value)/z.value*(r.value-t.value)+t.value;return Math.round(b/y.value)*y.value}function G(a){!e.disabled&&!e.readonly&&(s.value=c(a))}function H(a){if(!e.disabled&&!e.readonly){const u=c(a);if(e.multiple){const B=Math.abs(u-s.value),b=Math.abs(u-o.value);if(B<b){s.value=u;return}}o.value=u}}function J(a){!e.disabled&&!e.readonly&&(o.value=c(a))}return I(f,a=>{!e.disabled&&!e.readonly&&(s.value=c(a))}),I(v,a=>{!e.disabled&&!e.readonly&&(o.value=c(a))}),T(s,U,{immediate:!1}),T(o,j,{immediate:!1}),P([s,o],([a,u])=>{_.value=a,h.value=u,e.multiple?(n("update:modelValue",[a,u]),n("change",[a,u])):(n("update:modelValue",u),n("change",u))}),(a,u)=>(Z(),ee("div",{"data-testid":"input-range",class:ae(["input-range",V(F)])},[i("div",{ref_key:"track",ref:p,class:"input-range__tracks"},[E(i("div",{"data-testid":"track-lower",class:"input-range__track input-range__track-lower",style:D(V(O)),onClickCapture:G},null,36),[[x,d.multiple]]),i("div",{"data-testid":"track-active",class:"input-range__track input-range__track-active",style:D(V(X)),onClickCapture:H},[E(i("div",{ref_key:"thumbStart",ref:f,"data-testid":"thumb-start",class:"input-range__thumb input-range__thumb-start"},null,512),[[x,d.multiple]]),i("div",{ref_key:"thumbEnd",ref:v,"data-testid":"thumb-end",class:"input-range__thumb input-range__thumb-end"},null,512)],36),i("div",{"data-testid":"track-upper",class:"input-range__track input-range__track-upper",onClickCapture:J},null,32)],512)],2))}});export{de as _};
