import{n as J,i as ee,t as V,c as q,d as B,e as te,f as L,g as ne,h as re,j as ie,k as oe,l as ae,w as se}from"./index.CqD3toHj.js";import{l as O,y as M,r as y,z as ue,I as U,ai as X,U as $,A as le,aj as ce}from"./framework.Ke_sWmBU.js";function k(e){var t;const n=L(e);return(t=n==null?void 0:n.$el)!=null?t:n}const D=B?window:void 0,de=B?window.document:void 0,F=B?window.navigator:void 0;function T(...e){let t,n,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,r]=e,t=D):[t,n,o,r]=e,!t)return J;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const i=[],f=()=>{i.forEach(c=>c()),i.length=0},a=(c,d,s,u)=>(c.addEventListener(d,s,u),()=>c.removeEventListener(d,s,u)),l=M(()=>[k(t),L(r)],([c,d])=>{if(f(),!c)return;const s=te(d)?{...d}:d;i.push(...n.flatMap(u=>o.map(m=>a(c,u,m,s))))},{immediate:!0,flush:"post"}),v=()=>{l(),f()};return V(v),v}let Y=!1;function De(e,t,n={}){const{window:o=D,ignore:r=[],capture:i=!0,detectIframe:f=!1}=n;if(!o)return J;ee&&!Y&&(Y=!0,Array.from(o.document.body.children).forEach(s=>s.addEventListener("click",J)),o.document.documentElement.addEventListener("click",J));let a=!0;const l=s=>r.some(u=>{if(typeof u=="string")return Array.from(o.document.querySelectorAll(u)).some(m=>m===s.target||s.composedPath().includes(m));{const m=k(u);return m&&(s.target===m||s.composedPath().includes(m))}}),c=[T(o,"click",s=>{const u=k(e);if(!(!u||u===s.target||s.composedPath().includes(u))){if(s.detail===0&&(a=!l(s)),!a){a=!0;return}t(s)}},{passive:!0,capture:i}),T(o,"pointerdown",s=>{const u=k(e);a=!l(s)&&!!(u&&!s.composedPath().includes(u))},{passive:!0}),f&&T(o,"blur",s=>{setTimeout(()=>{var u;const m=k(e);((u=o.document.activeElement)==null?void 0:u.tagName)==="IFRAME"&&!(m!=null&&m.contains(o.document.activeElement))&&t(s)},0)})].filter(Boolean);return()=>c.forEach(s=>s())}function fe(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function ke(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:r=D,eventName:i="keydown",passive:f=!1,dedupe:a=!1}=o,l=fe(t);return T(r,i,c=>{c.repeat&&L(a)||l(c)&&n(c)},f)}function ve(){const{activeElement:e,body:t}=document;if(!e||e===t)return!1;switch(e.tagName){case"INPUT":case"TEXTAREA":return!0}return e.hasAttribute("contenteditable")}function me({keyCode:e,metaKey:t,ctrlKey:n,altKey:o}){return t||n||o?!1:e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function Me(e,t={}){const{document:n=de}=t;n&&T(n,"keydown",r=>{!ve()&&me(r)&&e(r)},{passive:!0})}function pe(){const e=y(!1),t=X();return t&&le(()=>{e.value=!0},t),e}function R(e){const t=pe();return O(()=>(t.value,!!e()))}function he(e,t,n={}){const{window:o=D,...r}=n;let i;const f=R(()=>o&&"MutationObserver"in o),a=()=>{i&&(i.disconnect(),i=void 0)},l=O(()=>{const s=L(e),u=(Array.isArray(s)?s:[s]).map(k).filter(ne);return new Set(u)}),v=M(()=>l.value,s=>{a(),f.value&&s.size&&(i=new MutationObserver(t),s.forEach(u=>i.observe(u,r)))},{immediate:!0,flush:"post"}),c=()=>i==null?void 0:i.takeRecords(),d=()=>{v(),a()};return V(d),{isSupported:f,stop:d,takeRecords:c}}function Q(e,t={}){const{window:n=D}=t,o=R(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const i=y(!1),f=v=>{i.value=v.matches},a=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",f):r.removeListener(f))},l=ue(()=>{o.value&&(a(),r=n.matchMedia(L(e)),"addEventListener"in r?r.addEventListener("change",f):r.addListener(f),i.value=r.matches)});return V(()=>{l(),a(),r=void 0}),i}function H(e,t={}){const{controls:n=!1,navigator:o=F}=t,r=R(()=>o&&"permissions"in o),i=U(),f=typeof e=="string"?{name:e}:e,a=U(),l=()=>{var c,d;a.value=(d=(c=i.value)==null?void 0:c.state)!=null?d:"prompt"};T(i,"change",l);const v=re(async()=>{if(r.value){if(!i.value)try{i.value=await o.permissions.query(f)}catch(c){i.value=void 0}finally{l()}if(n)return ce(i.value)}});return v(),n?{state:a,isSupported:r,query:v}:a}function Ce(e={}){const{navigator:t=F,read:n=!1,source:o,copiedDuring:r=1500,legacy:i=!1}=e,f=R(()=>t&&"clipboard"in t),a=H("clipboard-read"),l=H("clipboard-write"),v=O(()=>f.value||i),c=y(""),d=y(!1),s=ie(()=>d.value=!1,r);function u(){f.value&&_(a.value)?t.clipboard.readText().then(p=>{c.value=p}):c.value=b()}v.value&&n&&T(["copy","cut"],u);async function m(p=L(o)){v.value&&p!=null&&(f.value&&_(l.value)?await t.clipboard.writeText(p):h(p),c.value=p,d.value=!0,s.start())}function h(p){const g=document.createElement("textarea");g.value=p!=null?p:"",g.style.position="absolute",g.style.opacity="0",document.body.appendChild(g),g.select(),document.execCommand("copy"),g.remove()}function b(){var p,g,S;return(S=(g=(p=document==null?void 0:document.getSelection)==null?void 0:p.call(document))==null?void 0:g.toString())!=null?S:""}function _(p){return p==="granted"||p==="prompt"}return{isSupported:v,text:c,copied:d,copy:m}}function we(e){return JSON.parse(JSON.stringify(e))}const P=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j="__vueuse_ssr_handlers__",ge=ye();function ye(){return j in P||(P[j]=P[j]||{}),P[j]}function G(e,t){return ge[e]||t}function be(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Se={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},K="vueuse-storage";function Ee(e,t,n,o={}){var r;const{flush:i="pre",deep:f=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:v=!1,shallow:c,window:d=D,eventFilter:s,onError:u=w=>{console.error(w)},initOnMounted:m}=o,h=(c?U:y)(typeof t=="function"?t():t);if(!n)try{n=G("getDefaultStorage",()=>{var w;return(w=D)==null?void 0:w.localStorage})()}catch(w){u(w)}if(!n)return h;const b=L(t),_=be(b),p=(r=o.serializer)!=null?r:Se[_],{pause:g,resume:S}=se(h,()=>C(h.value),{flush:i,deep:f,eventFilter:s});d&&a&&q(()=>{n instanceof Storage?T(d,"storage",I):T(d,K,z),m&&I()}),m||I();function N(w,E){if(d){const A={key:e,oldValue:w,newValue:E,storageArea:n};d.dispatchEvent(n instanceof Storage?new StorageEvent("storage",A):new CustomEvent(K,{detail:A}))}}function C(w){try{const E=n.getItem(e);if(w==null)N(E,null),n.removeItem(e);else{const A=p.write(w);E!==A&&(n.setItem(e,A),N(E,A))}}catch(E){u(E)}}function x(w){const E=w?w.newValue:n.getItem(e);if(E==null)return l&&b!=null&&n.setItem(e,p.write(b)),b;if(!w&&v){const A=p.read(E);return typeof v=="function"?v(A,b):_==="object"&&!Array.isArray(A)?{...b,...A}:A}else return typeof E!="string"?E:p.read(E)}function I(w){if(!(w&&w.storageArea!==n)){if(w&&w.key==null){h.value=b;return}if(!(w&&w.key!==e)){g();try{(w==null?void 0:w.newValue)!==p.write(h.value)&&(h.value=x(w))}catch(E){u(E)}finally{w?$(S):S()}}}}function z(w){I(w.detail)}return h}function Z(e){return Q("(prefers-color-scheme: dark)",e)}const Ae="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function _e(e={}){const{selector:t="html",attribute:n="class",initialValue:o="auto",window:r=D,storage:i,storageKey:f="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:l,emitAuto:v,disableTransition:c=!0}=e,d={auto:"",light:"light",dark:"dark",...e.modes||{}},s=Z({window:r}),u=O(()=>s.value?"dark":"light"),m=l||(f==null?oe(o):Ee(f,o,i,{window:r,listenToStorageChanges:a})),h=O(()=>m.value==="auto"?u.value:m.value),b=G("updateHTMLAttrs",(S,N,C)=>{const x=typeof S=="string"?r==null?void 0:r.document.querySelector(S):k(S);if(!x)return;const I=new Set,z=new Set;let w=null;if(N==="class"){const A=C.split(/\s/g);Object.values(d).flatMap(W=>(W||"").split(/\s/g)).filter(Boolean).forEach(W=>{A.includes(W)?I.add(W):z.add(W)})}else w={key:N,value:C};if(I.size===0&&z.size===0&&w===null)return;let E;c&&(E=r.document.createElement("style"),E.appendChild(document.createTextNode(Ae)),r.document.head.appendChild(E));for(const A of I)x.classList.add(A);for(const A of z)x.classList.remove(A);w&&x.setAttribute(w.key,w.value),c&&(r.getComputedStyle(E).opacity,document.head.removeChild(E))});function _(S){var N;b(t,n,(N=d[S])!=null?N:S)}function p(S){e.onChanged?e.onChanged(S,_):_(S)}M(h,p,{flush:"post",immediate:!0}),q(()=>p(h.value));const g=O({get(){return v?m.value:h.value},set(S){m.value=S}});try{return Object.assign(g,{store:m,system:u,state:h})}catch(S){return g}}function Ie(e={}){const{valueDark:t="dark",valueLight:n="",window:o=D}=e,r=_e({...e,onChanged:(a,l)=>{var v;e.onChanged?(v=e.onChanged)==null||v.call(e,a==="dark",l,a):l(a)},modes:{dark:t,light:n}}),i=O(()=>r.system?r.system.value:Z({window:o}).value?"dark":"light");return O({get(){return r.value==="dark"},set(a){const l=a?"dark":"light";i.value===l?r.value="auto":r.value=l}})}function Le(e={}){const{navigator:t=F,requestPermissions:n=!1,constraints:o={audio:!0,video:!0},onUpdated:r}=e,i=y([]),f=O(()=>i.value.filter(m=>m.kind==="videoinput")),a=O(()=>i.value.filter(m=>m.kind==="audioinput")),l=O(()=>i.value.filter(m=>m.kind==="audiooutput")),v=R(()=>t&&t.mediaDevices&&t.mediaDevices.enumerateDevices),c=y(!1);let d;async function s(){v.value&&(i.value=await t.mediaDevices.enumerateDevices(),r==null||r(i.value),d&&(d.getTracks().forEach(m=>m.stop()),d=null))}async function u(){if(!v.value)return!1;if(c.value)return!0;const{state:m,query:h}=H("camera",{controls:!0});return await h(),m.value!=="granted"&&(d=await t.mediaDevices.getUserMedia(o),s()),c.value=!0,c.value}return v.value&&(n&&u(),T(t.mediaDevices,"devicechange",s),s()),{devices:i,ensurePermissions:u,permissionGranted:c,videoInputs:f,audioInputs:a,audioOutputs:l,isSupported:v}}function Oe(e,t,n={}){const{window:o=D,...r}=n;let i;const f=R(()=>o&&"ResizeObserver"in o),a=()=>{i&&(i.disconnect(),i=void 0)},l=O(()=>{const d=L(e);return Array.isArray(d)?d.map(s=>k(s)):[k(d)]}),v=M(l,d=>{if(a(),f.value&&o){i=new ResizeObserver(t);for(const s of d)s&&i.observe(s,r)}},{immediate:!0,flush:"post"}),c=()=>{a(),v()};return V(c),{isSupported:f,stop:c}}function Re(e,t={}){const{reset:n=!0,windowResize:o=!0,windowScroll:r=!0,immediate:i=!0,updateTiming:f="sync"}=t,a=y(0),l=y(0),v=y(0),c=y(0),d=y(0),s=y(0),u=y(0),m=y(0);function h(){const _=k(e);if(!_){n&&(a.value=0,l.value=0,v.value=0,c.value=0,d.value=0,s.value=0,u.value=0,m.value=0);return}const p=_.getBoundingClientRect();a.value=p.height,l.value=p.bottom,v.value=p.left,c.value=p.right,d.value=p.top,s.value=p.width,u.value=p.x,m.value=p.y}function b(){f==="sync"?h():f==="next-frame"&&requestAnimationFrame(()=>h())}return Oe(e,b),M(()=>k(e),_=>!_&&b()),he(e,b,{attributeFilter:["style","class"]}),r&&T("scroll",b,{capture:!0,passive:!0}),o&&T("resize",b,{passive:!0}),q(()=>{i&&b()}),{height:a,bottom:l,left:v,right:c,top:d,width:s,x:u,y:m,update:b}}function xe(e={}){var t,n;const o=y((t=e.enabled)!=null?t:!1),r=y((n=e.autoSwitch)!=null?n:!0),i=y(e.constraints),{navigator:f=F}=e,a=R(()=>{var h;return(h=f==null?void 0:f.mediaDevices)==null?void 0:h.getUserMedia}),l=U();function v(h){switch(h){case"video":{if(i.value)return i.value.video||!1;break}case"audio":{if(i.value)return i.value.audio||!1;break}}}async function c(){if(!(!a.value||l.value))return l.value=await f.mediaDevices.getUserMedia({video:v("video"),audio:v("audio")}),l.value}function d(){var h;(h=l.value)==null||h.getTracks().forEach(b=>b.stop()),l.value=void 0}function s(){d(),o.value=!1}async function u(){return await c(),l.value&&(o.value=!0),l.value}async function m(){return d(),await u()}return M(o,h=>{h?c():d()},{immediate:!0}),M(i,()=>{r.value&&l.value&&m()},{immediate:!0}),V(()=>{s()}),{isSupported:a,stream:l,start:u,stop:s,restart:m,constraints:i,enabled:o,autoSwitch:r}}function ze(e,t,n,o={}){var r,i,f;const{clone:a=!1,passive:l=!1,eventName:v,deep:c=!1,defaultValue:d,shouldEmit:s}=o,u=X(),m=n||(u==null?void 0:u.emit)||((r=u==null?void 0:u.$emit)==null?void 0:r.bind(u))||((f=(i=u==null?void 0:u.proxy)==null?void 0:i.$emit)==null?void 0:f.bind(u==null?void 0:u.proxy));let h=v;t||(t="modelValue"),h=h||`update:${t.toString()}`;const b=g=>a?typeof a=="function"?a(g):we(g):g,_=()=>ae(e[t])?b(e[t]):d,p=g=>{s?s(g)&&m(h,g):m(h,g)};if(l){const g=_(),S=y(g);let N=!1;return M(()=>e[t],C=>{N||(N=!0,S.value=b(C),$(()=>N=!1))}),M(S,C=>{!N&&(C!==e[t]||c)&&p(C)},{deep:c}),S}else return O({get(){return _()},set(g){p(g)}})}function We(e={}){const{window:t=D,behavior:n="auto"}=e;if(!t)return{x:y(0),y:y(0)};const o=y(t.scrollX),r=y(t.scrollY),i=O({get(){return o.value},set(a){scrollTo({left:a,behavior:n})}}),f=O({get(){return r.value},set(a){scrollTo({top:a,behavior:n})}});return T(t,"scroll",()=>{o.value=t.scrollX,r.value=t.scrollY},{capture:!1,passive:!0}),{x:i,y:f}}function Ve(e={}){const{window:t=D,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:o=Number.POSITIVE_INFINITY,listenOrientation:r=!0,includeScrollbar:i=!0,type:f="inner"}=e,a=y(n),l=y(o),v=()=>{t&&(f==="outer"?(a.value=t.outerWidth,l.value=t.outerHeight):i?(a.value=t.innerWidth,l.value=t.innerHeight):(a.value=t.document.documentElement.clientWidth,l.value=t.document.documentElement.clientHeight))};if(v(),q(v),T("resize",v,{passive:!0}),r){const c=Q("(orientation: portrait)");M(c,()=>v())}return{width:a,height:l}}export{Le as a,xe as b,Me as c,De as d,Q as e,We as f,Re as g,ze as h,he as i,Ve as j,T as k,Ie as l,Ce as m,ke as o,H as u};
