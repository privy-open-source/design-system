const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/interact.min.CbIEsjER.js","assets/chunks/commonjsHelpers.BosuxZz1.js"])))=>i.map(i=>d[i]);
import{_ as A}from"./chunks/Button.vue_vue_type_script_setup_true_lang.3Ev7LJQj.js";/* empty css                                                      */import{G as os,y as rs,X as ps,a1 as ds,_ as ts,o as I,c as S,m as a,l as D,d as hs,r as b,t as Z,a2 as $,p as l,n as J,P as X,$ as z,aa as ks,h as cs,I as r,w as u,a8 as U,b as m,a as us,k as Q,a7 as F,f as G,D as gs}from"./chunks/framework.SPHuL2wz.js";import{u as Es}from"./chunks/index.Cw4UG8Fj.js";import{t as ss}from"./chunks/throttle.CdTQLZho.js";import{_ as ms}from"./chunks/InputRange.vue_vue_type_style_index_0_lang.D_GClZNx.js";import{I as ys,a as vs}from"./chunks/20.DTV9WS5k.js";import{c as fs}from"./chunks/canvas.D47M5PTM.js";import{u as bs}from"./chunks/index.CFXyWZro.js";import{f as Fs}from"./chunks/base64.CRVHLH2y.js";import{v as Cs}from"./chunks/index.CMFNKP8Z.js";import{u as xs}from"./chunks/use-preview.HROWzcya.js";import{a as ws,b as Bs}from"./chunks/index.B7h_B0kb.js";import"./chunks/index.DvWHfs5K.js";import"./chunks/SpinnerRinggo.vue_vue_type_script_setup_true_lang.D-OV2fzw.js";import"./chunks/debounce.CE-8mXQa.js";import"./chunks/isObject.C3e4t58V.js";import"./chunks/baseGetTag.Cu32HCTk.js";import"./chunks/toNumber.Dcxq_36h.js";import"./chunks/isSymbol.BOom9x27.js";import"./chunks/isObjectLike.nLWjQ9zq.js";import"./chunks/index.CtS9oPBb.js";import"./chunks/defu.CMw4_7D2.js";import"./chunks/load-image.CsguPAoR.js";import"./chunks/create-image.CkAV8b2h.js";import"./chunks/avatar.qWHUbXZ4.js";import"./chunks/color-hash.CY8Op1ql.js";function qs(i,t){const d=os();rs(async()=>{if(i.value){const{default:n}=await ps(async()=>{const{default:g}=await import("./chunks/interact.min.CbIEsjER.js").then(f=>f.i);return{default:g}},__vite__mapDeps([0,1])),k=ss(t.onmove,1e3/120),y=ss(t.onpinch,1e3/120);d.value=n(i.value).styleCursor(!0).gesturable({inertia:!0,onstart:t.onstart,onmove:y,onend:y,modifiers:[n.modifiers.restrict({restriction:"parent",endOnly:!0})]}).draggable({inertia:!0,onstart:t.onstart,onmove:k,onend:k,modifiers:[n.modifiers.restrict({restriction:"parent",endOnly:!0})]})}}),ds(async()=>{var n;(n=d.value)==null||n.unset()})}const As={},Ds={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",class:"persona-icon",viewBox:"0 0 20 20"};function _s(i,t){return I(),S("svg",Ds,t[0]||(t[0]=[a("path",{fill:"currentColor","fill-rule":"evenodd",d:"M3.71 7.131h8.534a.625.625 0 0 1 .625.625v8.533c0 .345-.28.625-.625.625H3.711a.625.625 0 0 1-.625-.625V7.756c0-.345.28-.625.625-.625m.626 1.25v7.283h7.283V8.381zM11.54 1.77a.625.625 0 0 1-.065.881l-.375.324h2.973a2.95 2.95 0 0 1 2.952 2.952v3.88a.625.625 0 1 1-1.25 0v-3.88c0-.94-.762-1.702-1.702-1.702h-2.974l.376.324a.625.625 0 0 1-.816.947L9.01 4.073a.625.625 0 0 1 0-.946l1.649-1.422a.625.625 0 0 1 .881.065","clip-rule":"evenodd"},null,-1)]))}const Ps=ts(As,[["render",_s]]),$s={},Is={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",class:"persona-icon",viewBox:"0 0 20 20"};function Ss(i,t){return I(),S("svg",Is,t[0]||(t[0]=[a("path",{fill:"currentColor","fill-rule":"evenodd",d:"M8.46 1.77a.625.625 0 0 1 .881-.065l1.65 1.422a.625.625 0 0 1 0 .946L9.34 5.496a.625.625 0 1 1-.816-.947l.376-.324H5.927c-.94 0-1.702.762-1.702 1.702v3.88a.625.625 0 1 1-1.25 0v-3.88a2.95 2.95 0 0 1 2.952-2.952H8.9l-.375-.324a.625.625 0 0 1-.065-.881M7.13 7.756c0-.345.28-.625.626-.625h8.533a.625.625 0 0 1 .625.625v8.533c0 .345-.28.625-.625.625H7.756a.625.625 0 0 1-.625-.625zm1.25.625v7.283h7.284V8.381z","clip-rule":"evenodd"},null,-1)]))}const Vs=ts($s,[["render",Ss]]);function Ms(i){var V;const{width:t,height:d,image:n,scale:k,angle:y,x:g,y:f,rounded:c}=i,s=(V=i.canvas)!=null?V:fs(t,d),o=s.getContext("2d"),E=n.width*k,_=n.height*k;if(s.width=t,s.height=d,o.clearRect(0,0,t,d),o.translate(t/2,d/2),o.rotate(y*Math.PI/180),o.translate(t/-2,d/-2),o.drawImage(n,(t-E)/2+g,(d-_)/2+f,E,_),c){const C=Math.min(t/2,d/2);o.globalCompositeOperation="destination-in",o.beginPath(),o.moveTo(C,0),o.arcTo(t,0,t,d,C),o.arcTo(t,d,0,d,C),o.arcTo(0,d,0,0,C),o.arcTo(0,0,t,0,C),o.closePath(),o.fill()}return s.toDataURL()}function Ns(i,t=1){return D(()=>{var d;return i.width&&i.height?Number.parseFloat(`${i.width}`)/Number.parseFloat(`${i.height}`):(d=i.ratio)!=null?d:t})}function Rs(i){return D(()=>{if(i.width)return Number.parseFloat(`${i.width}`);if(i.height&&i.ratio)return Number.parseFloat(`${i.height}`)*i.ratio})}function zs(i){return D(()=>{if(i.height)return Number.parseFloat(`${i.height}`);if(i.width&&i.ratio)return Number.parseFloat(`${i.width}`)/i.ratio})}const Us={class:"cropper__preview"},js=["src","width","height"],Ts={class:"cropper__control"},Os={class:"cropper__control-bar"},x=hs({__name:"Cropper",props:{modelValue:{type:[String,globalThis.File],default:""},modelModifiers:{type:Object,default:()=>({})},src:{type:[String,globalThis.File],default:void 0},ratio:{type:Number,default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},imgWidth:{type:[String,Number],default:512},imgHeight:{type:[String,Number],default:512},imgClass:{type:[String,Array,Object],default:void 0},rounded:{type:Boolean,default:!1},noCrop:{type:Boolean,default:!1},noAutocrop:{type:Boolean,default:!1}},emits:["update:modelValue","change","result","load"],setup(i,{expose:t,emit:d}){const n=i,k=d,y=bs(n),g=b(0),f=b(0),c=b(0),s=Es(1,.5,2),o=Ns(n),E=Rs(n),_=zs(n),V=Z(n,"rounded"),C=Z(n,"src"),is=xs(C),M=b(),q=b(),v=b(),es=D(()=>{const p=[];return n.noCrop&&p.push("cropper--no-crop"),n.rounded&&p.push("cropper--rounded"),p}),as=D(()=>({transform:`rotate(${c.value}deg) translate(${g.value}px, ${f.value}px) scale(${s.value})`})),ns=D(()=>({aspectRatio:`${o.value}`,width:E.value?`${E.value}px`:"66.666667%"}));function P(){if(q.value&&v.value){const p=c.value%180===0?v.value.width:v.value.height,e=c.value%180===0?v.value.height:v.value.width;s.value=Math.min(q.value.clientWidth/p,q.value.clientHeight/e)}g.value=0,f.value=0}function j(){s.value+=.1}function T(){s.value-=.1}function N(p){c.value=(Math.trunc(c.value/90)*90+p)%360,P()}function w(p,e){const h=Math.cos(c.value*Math.PI/180),B=Math.sin(c.value*Math.PI/180),H=p*h+e*B,W=e*h-p*B;g.value+=H,f.value+=W}function O(){c.value=0,P()}function R(){var p,e;if(q.value&&v.value&&M.value){const h=q.value.clientWidth*2/3,B=(p=E.value)!=null?p:h,H=(e=_.value)!=null?e:B/o.value,W=h>0&&B>h?B/h:1,L=Ms({canvas:M.value,image:v.value,width:B,height:H,x:g.value,y:f.value,angle:c.value,scale:s.value*W,rounded:n.rounded}),Y=n.modelModifiers.base64?L:Fs(L);return y.value=Y,k("change",Y),k("result",Y),L}}const K=ws(p=>{v.value&&v.value.focus(),s.value+=p.deltaY*.01},1e3/30);function ls(){k("load"),P(),!n.noCrop&&!n.noAutocrop&&R()}return qs(v,{onpinch(p){s.value=p.scale,w(p.dx,p.dy)},onmove(p){w(p.dx,p.dy)}}),Bs([C,E,_,o,V,g,f,s,c],()=>{!n.noCrop&&!n.noAutocrop&&R()},{debounce:500}),t({zoomIn:j,zoomOut:T,rotate:N,crop:R,reset:O,move:w,fit:P,canvas:M,image:v,angle:c,scale:s}),(p,e)=>(I(),S("div",{"data-testid":"cropper",class:J(["cropper",l(es)])},[a("div",Us,[a("canvas",{ref_key:"canvas",ref:M,"data-testid":"cropper-canvas",class:"cropper__canvas"},null,512),a("div",{ref_key:"parent",ref:q,"data-testid":"cropper-container",class:"cropper__image-container",onWheel:e[4]||(e[4]=$((...h)=>l(K)&&l(K)(...h),["prevent"]))},[a("img",{ref_key:"image",ref:v,"data-testid":"cropper-preview",alt:"cropper-preview",tabindex:"0",class:J(["cropper__image",i.imgClass]),src:l(is),style:X(l(as)),width:i.imgWidth,height:i.imgHeight,onLoad:ls,onKeydown:[e[0]||(e[0]=z($(h=>w(0,-1),["prevent"]),["up"])),e[1]||(e[1]=z($(h=>w(0,1),["prevent"]),["down"])),e[2]||(e[2]=z($(h=>w(-1,0),["prevent"]),["left"])),e[3]||(e[3]=z($(h=>w(1,0),["prevent"]),["right"]))]},null,46,js)],544),i.noCrop?cs("",!0):ks((I(),S("div",{key:0,"data-testid":"cropper-mask",class:"cropper__mask",style:X(l(ns))},null,4)),[[l(Cs),l(o),void 0,{fixed:!0}]])]),a("div",Ts,[a("div",Os,[r(A,{"data-testid":"cropper-zoom-out",size:"xs",variant:"link",icon:"",pill:"",onClick:e[5]||(e[5]=h=>T())},{default:u(()=>[r(ys)]),_:1}),r(ms,{modelValue:l(s),"onUpdate:modelValue":e[6]||(e[6]=h=>U(s)?s.value=h:null),"data-testid":"cropper-zoom-slider",class:"cropper__slider",min:"0.5",max:"2",step:"0.1"},null,8,["modelValue"]),r(A,{"data-testid":"cropper-zoom-in",size:"xs",variant:"link",icon:"",pill:"",onClick:e[7]||(e[7]=h=>j())},{default:u(()=>[r(vs)]),_:1}),r(A,{"data-testid":"cropper-rotate-left",size:"xs",variant:"link",icon:"",pill:"",onClick:e[8]||(e[8]=h=>N(-90))},{default:u(()=>[r(Ps)]),_:1}),r(A,{"data-testid":"cropper-rotate-right",size:"xs",variant:"link",icon:"",pill:"",onClick:e[9]||(e[9]=h=>N(90))},{default:u(()=>[r(Vs)]),_:1})]),r(A,{"data-testid":"cropper-reset",class:"cropper__control__reset",size:"xs",variant:"link",onClick:e[10]||(e[10]=h=>O())},{default:u(()=>e[11]||(e[11]=[m(" Reset ")])),_:1}),us(p.$slots,"control",{scale:l(s),angle:l(c),crop:R,zoomIn:j,zoomOut:T,fit:P,rotate:N,reset:O})])],2))}}),Hs={class:"truncate"},Ws={class:"truncate"},Ls=["src"],Ys={class:"mt-4"},Gs={class:"truncate"},Ks=["src"],xt=JSON.parse('{"title":"Cropper · Components","description":"Preview and crop image","frontmatter":{"title":"Cropper · Components","description":"Preview and crop image"},"headers":[],"relativePath":"components/cropper/index.md","filePath":"components/cropper/index.md"}'),Zs={name:"components/cropper/index.md"},wt=Object.assign(Zs,{setup(i){const t=Q("/assets/images/img-sample-crop.jpg"),d=Q("/assets/images/empty-img.png"),n=b(),k=b(),y=b(),g=b();function f(){g.value&&g.value.crop()}return(c,s)=>{const o=gs("preview");return I(),S("div",null,[s[4]||(s[4]=F('<h1 id="cropper" tabindex="-1">Cropper <a class="header-anchor" href="#cropper" aria-label="Permalink to &quot;Cropper&quot;">​</a></h1><blockquote><p>Preview and crop image</p></blockquote><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h2><h3 id="simple-usage" tabindex="-1">Simple Usage <a class="header-anchor" href="#simple-usage" aria-label="Permalink to &quot;Simple Usage&quot;">​</a></h3>',4)),r(o,{class:"flex-col"},{default:u(()=>[r(x,{src:l(t)},null,8,["src"])]),_:1}),s[5]||(s[5]=F('<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p-cropper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="crop-size" tabindex="-1">Crop Size <a class="header-anchor" href="#crop-size" aria-label="Permalink to &quot;Crop Size&quot;">​</a></h2><p>You can adjust crop size using <code>width</code>, <code>height</code> or <code>ratio</code>.</p><h3 id="using-width-and-height" tabindex="-1">Using <code>width</code> and <code>height</code> <a class="header-anchor" href="#using-width-and-height" aria-label="Permalink to &quot;Using `width` and `height`&quot;">​</a></h3>',4)),r(o,null,{default:u(()=>[r(x,{src:l(t),width:"500",height:"200"},null,8,["src"])]),_:1}),s[6]||(s[6]=F(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p-cropper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;500&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;200&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="using-ratio" tabindex="-1">Using Ratio <a class="header-anchor" href="#using-ratio" aria-label="Permalink to &quot;Using Ratio&quot;">​</a></h3>`,2)),r(o,null,{default:u(()=>[r(x,{src:l(t),ratio:16/9},null,8,["src"])]),_:1}),s[7]||(s[7]=F(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p-cropper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> :</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ratio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="rounded-crop" tabindex="-1">Rounded Crop <a class="header-anchor" href="#rounded-crop" aria-label="Permalink to &quot;Rounded Crop&quot;">​</a></h2><p>Add prop <code>rounded</code> to enable circular cropping.</p>`,3)),r(o,null,{default:u(()=>[r(x,{src:l(t),rounded:""},null,8,["src"])]),_:1}),s[8]||(s[8]=F(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p-cropper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> rounded</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="viewer-mode" tabindex="-1">Viewer Mode <a class="header-anchor" href="#viewer-mode" aria-label="Permalink to &quot;Viewer Mode&quot;">​</a></h2><p>If you want to use this component for previewing image only, you can add prop <code>no-crop</code> to disabled cropping.</p>`,3)),r(o,null,{default:u(()=>[r(x,{src:l(t),"no-crop":""},null,8,["src"])]),_:1}),s[9]||(s[9]=F(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p-cropper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> no-crop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="binding-v-model" tabindex="-1">Binding v-model <a class="header-anchor" href="#binding-v-model" aria-label="Permalink to &quot;Binding v-model&quot;">​</a></h2><p>You can bind the result of cropped image using <code>v-model</code>.</p>`,3)),r(o,null,{default:u(()=>[r(x,{src:l(t),modelValue:l(n),"onUpdate:modelValue":s[0]||(s[0]=E=>U(n)?n.value=E:null)},null,8,["src","modelValue"])]),_:1}),s[10]||(s[10]=F(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p-cropper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p><strong>result:</strong></p>`,2)),a("pre",Hs,[a("code",null,G(l(n)),1)]),s[11]||(s[11]=a("h3",{id:"encode-to-base64",tabindex:"-1"},[m("Encode to base64 "),a("a",{class:"header-anchor",href:"#encode-to-base64","aria-label":'Permalink to "Encode to base64"'},"​")],-1)),s[12]||(s[12]=a("p",null,[m("You can add modifier "),a("code",null,"base64"),m(" to your "),a("code",null,"v-model"),m(", it's enforce result to "),a("a",{href:"https://en.wikipedia.org/wiki/Data_URI_scheme",target:"_blank",rel:"noreferrer"},"base64-dataURI"),m(".")],-1)),r(o,{class:"flex-col"},{default:u(()=>[r(x,{src:l(t),modelValue:l(k),"onUpdate:modelValue":s[1]||(s[1]=E=>U(k)?k.value=E:null),modelModifiers:{base64:!0}},null,8,["src","modelValue"])]),_:1}),s[13]||(s[13]=F(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p-cropper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">base64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p><strong>result:</strong></p>`,2)),a("pre",Ws,[a("code",null,G(l(k)),1)]),a("img",{class:"mt-2 border",src:l(k)||l(d),alt:"Result Image"},null,8,Ls),s[14]||(s[14]=a("h3",{id:"disabling-autocrop",tabindex:"-1"},[m("Disabling Autocrop "),a("a",{class:"header-anchor",href:"#disabling-autocrop","aria-label":'Permalink to "Disabling Autocrop"'},"​")],-1)),s[15]||(s[15]=a("p",null,[m("By default, cropping process was ran every movement (drag, zoom, & rotate). It can be exhausting the resource on some device. You can disabled it using prop "),a("code",null,"no-autocrop"),m(". And to trigger the cropping, you can use "),a("code",null,"templateRef"),m(" on "),a("code",null,"<p-cropper>"),m(" component, and call "),a("code",null,".crop()"),m(" function.")],-1)),r(o,{class:"flex-col"},{default:u(()=>[r(x,{ref_key:"cropper",ref:g,src:l(t),modelValue:l(y),"onUpdate:modelValue":s[2]||(s[2]=E=>U(y)?y.value=E:null),modelModifiers:{base64:!0},"no-autocrop":""},null,8,["src","modelValue"]),a("div",Ys,[r(A,{onClick:f},{default:u(()=>s[3]||(s[3]=[m("Do Crop")])),_:1})])]),_:1}),s[16]||(s[16]=a("p",null,[a("strong",null,"result:")],-1)),a("pre",Gs,[a("code",null,G(l(y)),1)]),a("img",{class:"mt-2 border",src:l(y)||l(d),alt:"Result Image"},null,8,Ks),s[17]||(s[17]=F(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p-cropper</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cropper&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    v-model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">base64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    no-autocrop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p-button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">doCrop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Do Crop&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p-button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> cropper</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">InstanceType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PCropper&gt;&gt;()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> doCrop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (cropper.value)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      cropper.value.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">crop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">​</a></h2><h3 id="props" tabindex="-1">Props <a class="header-anchor" href="#props" aria-label="Permalink to &quot;Props&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Props</th><th style="text-align:center;">Type</th><th style="text-align:center;">Default</th><th>Description</th></tr></thead><tbody><tr><td><code>src</code></td><td style="text-align:center;"><code>String</code>, <code>File</code></td><td style="text-align:center;"><code>-</code></td><td>Image source</td></tr><tr><td><code>width</code></td><td style="text-align:center;"><code>Number</code></td><td style="text-align:center;"><code>-</code></td><td>Crop width, in pixel</td></tr><tr><td><code>height</code></td><td style="text-align:center;"><code>Number</code></td><td style="text-align:center;"><code>-</code></td><td>Crop height, in pixel</td></tr><tr><td><code>ratio</code></td><td style="text-align:center;"><code>Number</code></td><td style="text-align:center;"><code>1/1</code></td><td>Crop ratio</td></tr><tr><td><code>img-width</code></td><td style="text-align:center;"><code>Number</code></td><td style="text-align:center;"><code>-</code></td><td>Add attribute width on img tag</td></tr><tr><td><code>img-height</code></td><td style="text-align:center;"><code>Number</code></td><td style="text-align:center;"><code>-</code></td><td>Add attribute height on img tag</td></tr><tr><td><code>img-class</code></td><td style="text-align:center;"><code>String</code></td><td style="text-align:center;"><code>-</code></td><td>Additional class to img tag</td></tr><tr><td><code>rounded</code></td><td style="text-align:center;"><code>Boolean</code></td><td style="text-align:center;"><code>false</code></td><td>Enabling rounded crop</td></tr><tr><td><code>no-crop</code></td><td style="text-align:center;"><code>Boolean</code></td><td style="text-align:center;"><code>false</code></td><td>Disabling crop mode</td></tr><tr><td><code>no-autocrop</code></td><td style="text-align:center;"><code>Boolean</code></td><td style="text-align:center;"><code>false</code></td><td>Disabling autocrop</td></tr><tr><td><code>modelValue</code></td><td style="text-align:center;"><code>File</code></td><td style="text-align:center;"><code>-</code></td><td><code>v-model</code> value binding</td></tr></tbody></table><h3 id="slots" tabindex="-1">Slots <a class="header-anchor" href="#slots" aria-label="Permalink to &quot;Slots&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td><code>control</code></td><td>Content for placing additional control</td></tr></tbody></table><h3 id="events" tabindex="-1">Events <a class="header-anchor" href="#events" aria-label="Permalink to &quot;Events&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Name</th><th style="text-align:center;">Arguments</th><th>Description</th></tr></thead><tbody><tr><td><code>load</code></td><td style="text-align:center;">-</td><td>Event when image finished loaded</td></tr><tr><td><code>result</code></td><td style="text-align:center;">-</td><td>Event when cropped done</td></tr></tbody></table><h2 id="see-also" tabindex="-1">See Also <a class="header-anchor" href="#see-also" aria-label="Permalink to &quot;See Also&quot;">​</a></h2><ul><li><a href="/design-system/components/camera/">Camera</a></li><li><a href="/design-system/components/dropzone/">Dropzone</a></li></ul>`,10))])}}});export{xt as __pageData,wt as default};
