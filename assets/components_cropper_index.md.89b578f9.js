import{_ as Q}from"./chunks/Button.vue_vue_type_script_setup_true_lang.6548455d.js";import"./chunks/Button.vue_vue_type_style_index_0_lang.4ed993c7.js";import{t as x}from"./chunks/index.4e947356.js";import{u as ls}from"./chunks/index.f20852fd.js";import{E as ps,j as rs,U as cs,a5 as is,_ as Z,o as I,c as S,k as a,g as T,d as ds,h as D,a4 as W,C as w,a6 as us,Z as B,n as Y,N as G,X as P,a2 as Es,e as ys,H as t,w as h,a as m,r as hs,f as K,t as U,l as u,Q as b,a1 as O}from"./chunks/framework.c6b37a8b.js";import{t as J}from"./chunks/throttle.3a584b0d.js";import{p as gs}from"./chunks/InputRange.724ff4e2.js";import{I as ms,a as vs}from"./chunks/20.f2486bd6.js";import{c as _s,u as fs}from"./chunks/index.30589e42.js";import{u as bs}from"./chunks/index.c3f1570d.js";import{f as Cs}from"./chunks/base64.041d95b4.js";import{p as Fs}from"./chunks/index.f0554c3a.js";import{a as qs}from"./chunks/index.a9759927.js";import"./chunks/index.a3ecab28.js";import"./chunks/SpinnerRinggo.76282a62.js";import"./chunks/debounce.b619e377.js";import"./chunks/isObject.32699ff3.js";import"./chunks/isObjectLike.53b0037d.js";import"./chunks/toNumber.75689a18.js";import"./chunks/isSymbol.4326927f.js";import"./chunks/defu.573334b8.js";import"./chunks/load-image.265b152a.js";import"./chunks/create-image.219ca7ba.js";import"./chunks/avatar.bd58a373.js";import"./chunks/color-hash.af77277d.js";function As(s,e){const n=ps();rs(async()=>{if(s.value){const{default:p}=await cs(()=>import("./chunks/interact.min.7201a62d.js").then(d=>d.i),["assets/chunks/interact.min.7201a62d.js","assets/chunks/commonjsHelpers.de833af9.js"]),i=J(e.onmove,1e3/120),l=J(e.onpinch,1e3/120);n.value=p(s.value).styleCursor(!0).gesturable({inertia:!0,onstart:e.onstart,onmove:l,onend:l,modifiers:[p.modifiers.restrict({restriction:"parent",endOnly:!0})]}).draggable({inertia:!0,onstart:e.onstart,onmove:i,onend:i,modifiers:[p.modifiers.restrict({restriction:"parent",endOnly:!0})]})}}),is(async()=>{var p;(p=n.value)==null||p.unset()})}const ws={},ks={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",class:"persona-icon",viewBox:"0 0 20 20"},Ts=a("path",{fill:"currentColor","fill-rule":"evenodd",d:"M13.5 15.998a.603.603 0 0 0-.603-.603h-.796V9.002a.603.603 0 0 0-.603-.603H5.105v-.796a.603.603 0 0 0-1.206 0v.796h-.796a.603.603 0 0 0 0 1.206h.796v6.393c0 .333.27.603.603.603h6.393v.796a.603.603 0 0 0 1.206 0v-.796h.796c.333 0 .603-.27.603-.603Zm-2.605-.603h-5.79v-5.79h5.79v5.79ZM11.866 2.16a.592.592 0 0 0-.852.045L9.655 3.757a.634.634 0 0 0 0 .83l1.359 1.552a.592.592 0 0 0 .852.046.633.633 0 0 0 .045-.876l-.451-.516h3.172c.917 0 1.66.764 1.66 1.707v3.88c0 .342.27.62.604.62a.612.612 0 0 0 .604-.62V6.5c0-1.628-1.284-2.948-2.868-2.948H11.46l.451-.516a.633.633 0 0 0-.045-.877Z","clip-rule":"evenodd"},null,-1),Ds=[Ts];function Bs(s,e){return I(),S("svg",ks,Ds)}const Is=Z(ws,[["render",Bs]]),Ss={},Ps={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",class:"persona-icon",viewBox:"0 0 20 20"},xs=a("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6.5 15.998c0-.333.27-.603.603-.603h.796V9.002c0-.333.27-.603.603-.603h6.393v-.796a.603.603 0 0 1 1.206 0v.796h.796a.603.603 0 0 1 0 1.206h-.796v6.393c0 .333-.27.603-.603.603H9.105v.796a.603.603 0 0 1-1.206 0v-.796h-.796a.603.603 0 0 1-.603-.603Zm2.605-.603h5.79v-5.79h-5.79v5.79ZM8.134 2.16a.592.592 0 0 1 .852.045l1.359 1.552a.634.634 0 0 1 0 .83L8.986 6.14a.592.592 0 0 1-.852.046.633.633 0 0 1-.045-.876l.451-.516H5.368c-.917 0-1.66.764-1.66 1.707v3.88c0 .342-.27.62-.604.62a.612.612 0 0 1-.604-.62V6.5c0-1.628 1.284-2.948 2.868-2.948H8.54l-.451-.516a.633.633 0 0 1 .045-.877Z","clip-rule":"evenodd"},null,-1),Vs=[xs];function Rs(s,e){return I(),S("svg",Ps,Vs)}const $s=Z(Ss,[["render",Rs]]);function Ns(s){var c;const{width:e,height:n,image:p,scale:i,angle:l,x:d,y,rounded:f}=s,E=(c=s.canvas)!=null?c:_s(e,n),o=E.getContext("2d"),g=p.width*i,k=p.height*i;if(E.width=e,E.height=n,o.clearRect(0,0,e,n),o.translate(e/2,n/2),o.rotate(l*Math.PI/180),o.translate(e/-2,n/-2),o.drawImage(p,(e-g)/2+d,(n-k)/2+y,g,k),f){const v=Math.min(e/2,n/2);o.globalCompositeOperation="destination-in",o.beginPath(),o.moveTo(v,0),o.arcTo(e,0,e,n,v),o.arcTo(e,n,0,n,v),o.arcTo(0,n,0,0,v),o.arcTo(0,0,e,0,v),o.closePath(),o.fill()}return E.toDataURL()}function Ms(s,e=1){return T(()=>{var n;return s.width&&s.height?Number.parseFloat(`${s.width}`)/Number.parseFloat(`${s.height}`):(n=s.ratio)!=null?n:e})}function zs(s){return T(()=>{if(s.width)return Number.parseFloat(`${s.width}`);if(s.height&&s.ratio)return Number.parseFloat(`${s.height}`)*s.ratio})}function js(s){return T(()=>{if(s.height)return Number.parseFloat(`${s.height}`);if(s.width&&s.ratio)return Number.parseFloat(`${s.width}`)/s.ratio})}const Us=ds({directives:{pAspectRatio:Fs},components:{pButton:Q,pInputRange:gs,IconRotateLeft:Is,IconRotateRight:$s,IconZoomIn:ms,IconZoomOut:vs},props:{modelValue:{type:[String,globalThis.File],default:""},modelModifiers:{type:Object,default:()=>({})},src:{type:[String,globalThis.File],default:void 0},ratio:{type:Number,default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},imgWidth:{type:[String,Number],default:512},imgHeight:{type:[String,Number],default:512},imgClass:{type:[String,Array,Object],default:void 0},rounded:{type:Boolean,default:!1},noCrop:{type:Boolean,default:!1},noAutocrop:{type:Boolean,default:!1}},models:{prop:"modelValue",event:"update:modelValue"},emits:["update:modelValue","change","result","load"],setup(s,{emit:e}){const n=bs(s),p=D(0),i=D(0),l=D(0),d=ls(1,.5,2),y=Ms(s),f=zs(s),E=js(s),o=W(s,"rounded"),g=W(s,"src"),k=fs(g),c=x("canvas"),v=x("parent"),_=x("target"),X=T(()=>{const r=[];return s.noCrop&&r.push("cropper--no-crop"),s.rounded&&r.push("cropper--rounded"),r}),ss=T(()=>({transform:`rotate(${l.value}deg) translate(${p.value}px, ${i.value}px) scale(${d.value})`})),es=T(()=>({aspectRatio:`${y.value}`,width:f.value?`${f.value}px`:"66.666667%"}));function V(){if(v.value&&_.value){const r=l.value%180===0?_.value.width:_.value.height,F=l.value%180===0?_.value.height:_.value.width;d.value=Math.min(v.value.clientWidth/r,v.value.clientHeight/F)}p.value=0,i.value=0}function L(){d.value+=.1}function H(){d.value-=.1}function as(r){l.value=(Math.trunc(l.value/90)*90+r)%360,V()}function R(r,F){const q=Math.cos(l.value*Math.PI/180),A=Math.sin(l.value*Math.PI/180),N=r*q+F*A,M=F*q-r*A;p.value+=N,i.value+=M}function os(){l.value=0,V()}function $(){var r,F;if(v.value&&_.value&&c.value){const q=v.value.clientWidth*2/3,A=(r=f.value)!=null?r:q,N=(F=E.value)!=null?F:A/y.value,M=q>0&&A>q?A/q:1,z=Ns({canvas:c.value,image:_.value,width:A,height:N,x:p.value,y:i.value,angle:l.value,scale:d.value*M,rounded:s.rounded}),j=s.modelModifiers.base64?z:Cs(z);return n.value=j,e("change",j),e("result",j),z}}function ts(r){_.value&&_.value.focus(),r.deltaY>0?L():H()}function ns(){e("load"),V(),!s.noCrop&&!s.noAutocrop&&$()}return As(_,{onpinch(r){d.value=r.scale,R(r.dx,r.dy)},onmove(r){R(r.dx,r.dy)}}),qs([g,f,E,y,o,p,i,d,l],()=>{!s.noCrop&&!s.noAutocrop&&$()},{debounce:500}),{classNames:X,preview:k,imgStyle:ss,maskStyle:es,scale:d,angle:l,reset:os,onMouseWheel:ts,onImageLoaded:ns,rotate:as,zoomIn:L,zoomOut:H,move:R,crop:$,model:n,aspectRatio:y}}});const Os={class:"cropper__preview"},Zs={ref:"canvas","data-testid":"cropper-canvas",class:"cropper__canvas"},Ls=["src","width","height"],Hs={class:"cropper__control"},Ws={class:"cropper__control-bar"};function Ys(s,e,n,p,i,l){const d=w("IconZoomOut"),y=w("p-button"),f=w("p-input-range"),E=w("IconZoomIn"),o=w("IconRotateLeft"),g=w("IconRotateRight"),k=us("p-aspect-ratio");return I(),S("div",{"data-testid":"cropper",class:Y(["cropper",s.classNames])},[a("div",Os,[a("canvas",Zs,null,512),a("div",{ref:"parent","data-testid":"cropper-container",class:"cropper__image-container",onWheel:e[5]||(e[5]=B((...c)=>s.onMouseWheel&&s.onMouseWheel(...c),["prevent"]))},[a("img",{ref:"target","data-testid":"cropper-preview",alt:"cropper-preview",tabindex:"0",class:Y(["cropper__image",s.imgClass]),src:s.preview,style:G(s.imgStyle),width:s.imgWidth,height:s.imgHeight,onLoad:e[0]||(e[0]=(...c)=>s.onImageLoaded&&s.onImageLoaded(...c)),onKeydown:[e[1]||(e[1]=P(B(c=>s.move(0,-1),["prevent"]),["up"])),e[2]||(e[2]=P(B(c=>s.move(0,1),["prevent"]),["down"])),e[3]||(e[3]=P(B(c=>s.move(-1,0),["prevent"]),["left"])),e[4]||(e[4]=P(B(c=>s.move(1,0),["prevent"]),["right"]))]},null,46,Ls)],544),s.noCrop?ys("",!0):Es((I(),S("div",{key:0,"data-testid":"cropper-mask",class:"cropper__mask",style:G(s.maskStyle)},null,4)),[[k,s.aspectRatio,void 0,{fixed:!0}]])]),a("div",Hs,[a("div",Ws,[t(y,{"data-testid":"cropper-zoom-out",size:"xs",variant:"link",icon:"",pill:"",onClick:e[6]||(e[6]=c=>s.zoomOut())},{default:h(()=>[t(d)]),_:1}),t(f,{modelValue:s.scale,"onUpdate:modelValue":e[7]||(e[7]=c=>s.scale=c),"data-testid":"cropper-zoom-slider",class:"cropper__slider",min:"0.5",max:"2",step:"0.1"},null,8,["modelValue"]),t(y,{"data-testid":"cropper-zoom-in",size:"xs",variant:"link",icon:"",pill:"",onClick:e[8]||(e[8]=c=>s.zoomIn())},{default:h(()=>[t(E)]),_:1}),t(y,{"data-testid":"cropper-rotate-left",size:"xs",variant:"link",icon:"",pill:"",onClick:e[9]||(e[9]=c=>s.rotate(-90))},{default:h(()=>[t(o)]),_:1}),t(y,{"data-testid":"cropper-rotate-right",size:"xs",variant:"link",icon:"",pill:"",onClick:e[10]||(e[10]=c=>s.rotate(90))},{default:h(()=>[t(g)]),_:1})]),t(y,{"data-testid":"cropper-reset",class:"flex-shrink-0",size:"xs",variant:"link",onClick:e[11]||(e[11]=c=>s.reset())},{default:h(()=>[m(" Reset ")]),_:1}),hs(s.$slots,"control",{scale:s.scale,angle:s.angle,crop:s.crop,zoomIn:s.zoomIn,zoomOut:s.zoomOut,rotate:s.rotate,reset:s.reset})])],2)}const C=Z(Us,[["render",Ys]]),Gs=b('<h1 id="cropper" tabindex="-1">Cropper <a class="header-anchor" href="#cropper" aria-label="Permalink to &quot;Cropper&quot;">​</a></h1><blockquote><p>Preview and crop image</p></blockquote><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h2><h3 id="simple-usage" tabindex="-1">Simple Usage <a class="header-anchor" href="#simple-usage" aria-label="Permalink to &quot;Simple Usage&quot;">​</a></h3>',4),Ks=b('<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">p-cropper</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">src</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>\n<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>\n<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">p-cropper</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">src</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;./assets/sample-1.jpg&quot;</span><span style="color:#24292E;"> /&gt;</span></span>\n<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h2 id="crop-size" tabindex="-1">Crop Size <a class="header-anchor" href="#crop-size" aria-label="Permalink to &quot;Crop Size&quot;">​</a></h2><p>You can adjust crop size using <code>width</code>, <code>height</code> or <code>ratio</code>.</p><h3 id="using-width-and-height" tabindex="-1">Using <code>width</code> and <code>height</code> <a class="header-anchor" href="#using-width-and-height" aria-label="Permalink to &quot;Using `width` and `height`&quot;">​</a></h3>',4),Js=b(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">p-cropper</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">src</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">width</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;500&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">height</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;200&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">p-cropper</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">src</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;./assets/sample-1.jpg&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">width</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;500&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">height</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;200&quot;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h3 id="using-ratio" tabindex="-1">Using Ratio <a class="header-anchor" href="#using-ratio" aria-label="Permalink to &quot;Using Ratio&quot;">​</a></h3>`,2),Qs=b(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">p-cropper</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">src</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">:ratio</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;16/9&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">p-cropper</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">src</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;./assets/sample-1.jpg&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">:ratio</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;16/9&quot;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h2 id="rounded-crop" tabindex="-1">Rounded Crop <a class="header-anchor" href="#rounded-crop" aria-label="Permalink to &quot;Rounded Crop&quot;">​</a></h2><p>Add prop <code>rounded</code> to enable circular cropping.</p>`,3),Xs=b(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">p-cropper</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">src</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">rounded</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">p-cropper</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">src</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;./assets/sample-1.jpg&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">rounded</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h2 id="viewer-mode" tabindex="-1">Viewer Mode <a class="header-anchor" href="#viewer-mode" aria-label="Permalink to &quot;Viewer Mode&quot;">​</a></h2><p>If you want to use this component for previewing image only, you can add prop <code>no-crop</code> to disabled cropping.</p>`,3),se=b(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">p-cropper</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">src</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">no-crop</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">p-cropper</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">src</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;./assets/sample-1.jpg&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">no-crop</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h2 id="binding-v-model" tabindex="-1">Binding v-model <a class="header-anchor" href="#binding-v-model" aria-label="Permalink to &quot;Binding v-model&quot;">​</a></h2><p>You can bind the result of cropped image using <code>v-model</code>.</p>`,3),ee=b(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">p-cropper</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">src</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">v-model</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;result&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">p-cropper</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">src</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;./assets/sample-1.jpg&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">v-model</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;result&quot;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><p><strong>result:</strong></p>`,2),ae={class:"truncate"},oe=a("h3",{id:"encode-to-base64",tabindex:"-1"},[m("Encode to base64 "),a("a",{class:"header-anchor",href:"#encode-to-base64","aria-label":'Permalink to "Encode to base64"'},"​")],-1),te=a("p",null,[m("You can add modifier "),a("code",null,"base64"),m(" to your "),a("code",null,"v-model"),m(", it's enforce result to "),a("a",{href:"https://en.wikipedia.org/wiki/Data_URI_scheme",target:"_blank",rel:"noreferrer"},"base64-dataURI"),m(".")],-1),ne=b(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">p-cropper</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">src</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">v-model.base64</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;result&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">p-cropper</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">src</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;./assets/sample-1.jpg&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">v-model.base64</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;result&quot;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><p><strong>result:</strong></p>`,2),le={class:"truncate"},pe=["src"],re=a("h3",{id:"disabling-autocrop",tabindex:"-1"},[m("Disabling Autocrop "),a("a",{class:"header-anchor",href:"#disabling-autocrop","aria-label":'Permalink to "Disabling Autocrop"'},"​")],-1),ce=a("p",null,[m("By default, cropping process was ran every movement (drag, zoom, & rotate). It can be exhausting the resource on some device. You can disabled it using prop "),a("code",null,"no-autocrop"),m(". And to trigger the cropping, you can use "),a("code",null,"templateRef"),m(" on "),a("code",null,"<p-cropper>"),m(" component, and call "),a("code",null,".crop()"),m(" function.")],-1),ie={class:"mt-4"},de=a("p",null,[a("strong",null,"result:")],-1),ue={class:"truncate"},Ee=["src"],ye=b(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">p-cropper</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;cropper&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">v-model.base64</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;result2&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">src</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">no-autocrop</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">p-button</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">@click</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;doCrop&quot;</span><span style="color:#E1E4E8;">&gt;Do Crop&lt;/</span><span style="color:#85E89D;">p-button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setup</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { templateRef } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@vueuse/core&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">cropper</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">templateRef</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;cropper&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">doCrop</span><span style="color:#E1E4E8;"> () {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (cropper.value)</span></span>
<span class="line"><span style="color:#E1E4E8;">      cropper.value.</span><span style="color:#B392F0;">crop</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">p-cropper</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;cropper&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">v-model.base64</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;result2&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">src</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;./assets/sample-1.jpg&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">no-autocrop</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">p-button</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">@click</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;doCrop&quot;</span><span style="color:#24292E;">&gt;Do Crop&lt;/</span><span style="color:#22863A;">p-button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setup</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { templateRef } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@vueuse/core&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">cropper</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">templateRef</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;cropper&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">doCrop</span><span style="color:#24292E;"> () {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (cropper.value)</span></span>
<span class="line"><span style="color:#24292E;">      cropper.value.</span><span style="color:#6F42C1;">crop</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h2 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">​</a></h2><h3 id="props" tabindex="-1">Props <a class="header-anchor" href="#props" aria-label="Permalink to &quot;Props&quot;">​</a></h3><table><thead><tr><th>Props</th><th style="text-align:center;">Type</th><th style="text-align:center;">Default</th><th>Description</th></tr></thead><tbody><tr><td><code>src</code></td><td style="text-align:center;"><code>String</code>, <code>File</code></td><td style="text-align:center;"><code>-</code></td><td>Image source</td></tr><tr><td><code>width</code></td><td style="text-align:center;"><code>Number</code></td><td style="text-align:center;"><code>-</code></td><td>Crop width, in pixel</td></tr><tr><td><code>height</code></td><td style="text-align:center;"><code>Number</code></td><td style="text-align:center;"><code>-</code></td><td>Crop height, in pixel</td></tr><tr><td><code>ratio</code></td><td style="text-align:center;"><code>Number</code></td><td style="text-align:center;"><code>1/1</code></td><td>Crop ratio</td></tr><tr><td><code>img-width</code></td><td style="text-align:center;"><code>Number</code></td><td style="text-align:center;"><code>-</code></td><td>Add attribute width on img tag</td></tr><tr><td><code>img-height</code></td><td style="text-align:center;"><code>Number</code></td><td style="text-align:center;"><code>-</code></td><td>Add attribute height on img tag</td></tr><tr><td><code>img-class</code></td><td style="text-align:center;"><code>String</code></td><td style="text-align:center;"><code>-</code></td><td>Additional class to img tag</td></tr><tr><td><code>rounded</code></td><td style="text-align:center;"><code>Boolean</code></td><td style="text-align:center;"><code>false</code></td><td>Enabling rounded crop</td></tr><tr><td><code>no-crop</code></td><td style="text-align:center;"><code>Boolean</code></td><td style="text-align:center;"><code>false</code></td><td>Disabling crop mode</td></tr><tr><td><code>no-autocrop</code></td><td style="text-align:center;"><code>Boolean</code></td><td style="text-align:center;"><code>false</code></td><td>Disabling autocrop</td></tr><tr><td><code>modelValue</code></td><td style="text-align:center;"><code>File</code></td><td style="text-align:center;"><code>-</code></td><td><code>v-model</code> value binding</td></tr></tbody></table><h3 id="slots" tabindex="-1">Slots <a class="header-anchor" href="#slots" aria-label="Permalink to &quot;Slots&quot;">​</a></h3><table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td><code>control</code></td><td>Content for placing additional control</td></tr></tbody></table><h3 id="events" tabindex="-1">Events <a class="header-anchor" href="#events" aria-label="Permalink to &quot;Events&quot;">​</a></h3><table><thead><tr><th>Name</th><th style="text-align:center;">Arguments</th><th>Description</th></tr></thead><tbody><tr><td><code>load</code></td><td style="text-align:center;">-</td><td>Event when image finished loaded</td></tr><tr><td><code>result</code></td><td style="text-align:center;">-</td><td>Event when cropped done</td></tr></tbody></table><h2 id="see-also" tabindex="-1">See Also <a class="header-anchor" href="#see-also" aria-label="Permalink to &quot;See Also&quot;">​</a></h2><ul><li><a href="/design-system/components/camera/">Camera</a></li><li><a href="/design-system/components/dropzone/">Dropzone</a></li></ul>`,10),je=JSON.parse('{"title":"Cropper · Components","description":"Preview and crop image","frontmatter":{"title":"Cropper · Components","description":"Preview and crop image"},"headers":[],"relativePath":"components/cropper/index.md","filePath":"components/cropper/index.md"}'),he={name:"components/cropper/index.md"},Ue=Object.assign(he,{setup(s){const e=K("/assets/images/img-sample-crop.jpg"),n=K("/assets/images/empty-img.png"),p=D(),i=D(),l=D(),d=x("cropper");function y(){d.value&&d.value.crop()}return(f,E)=>{const o=w("preview");return I(),S("div",null,[Gs,t(o,{class:"flex-col"},{default:h(()=>[t(C,{src:u(e)},null,8,["src"])]),_:1}),Ks,t(o,null,{default:h(()=>[t(C,{src:u(e),width:"500",height:"200"},null,8,["src"])]),_:1}),Js,t(o,null,{default:h(()=>[t(C,{src:u(e),ratio:16/9},null,8,["src"])]),_:1}),Qs,t(o,null,{default:h(()=>[t(C,{src:u(e),rounded:""},null,8,["src"])]),_:1}),Xs,t(o,null,{default:h(()=>[t(C,{src:u(e),"no-crop":""},null,8,["src"])]),_:1}),se,t(o,null,{default:h(()=>[t(C,{src:u(e),modelValue:u(p),"onUpdate:modelValue":E[0]||(E[0]=g=>O(p)?p.value=g:null)},null,8,["src","modelValue"])]),_:1}),ee,a("pre",ae,[a("code",null,U(u(p)),1)]),oe,te,t(o,{class:"flex-col"},{default:h(()=>[t(C,{src:u(e),modelValue:u(i),"onUpdate:modelValue":E[1]||(E[1]=g=>O(i)?i.value=g:null),modelModifiers:{base64:!0}},null,8,["src","modelValue"])]),_:1}),ne,a("pre",le,[a("code",null,U(u(i)),1)]),a("img",{class:"mt-2 border",src:u(i)||u(n),alt:"Result Image"},null,8,pe),re,ce,t(o,{class:"flex-col"},{default:h(()=>[t(C,{ref_key:"cropper",ref:d,src:u(e),modelValue:u(l),"onUpdate:modelValue":E[2]||(E[2]=g=>O(l)?l.value=g:null),modelModifiers:{base64:!0},"no-autocrop":""},null,8,["src","modelValue"]),a("div",ie,[t(Q,{onClick:y},{default:h(()=>[m("Do Crop")]),_:1})])]),_:1}),de,a("pre",ue,[a("code",null,U(u(l)),1)]),a("img",{class:"mt-2 border",src:u(l)||u(n),alt:"Result Image"},null,8,Ee),ye])}}});export{je as __pageData,Ue as default};
